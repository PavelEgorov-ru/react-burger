(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{115:function(e,t,n){e.exports={header:"AppHeader_header__3mBvA"}},117:function(e,t,n){e.exports={container:"ModalOverlay_container__V5GC_"}},118:function(e,t,n){e.exports={image:"OrderDetails_image__2ckyI"}},120:function(e,t,n){e.exports={container:"TabContainer_container__2NlCV"}},121:function(e,t,n){e.exports={itemContainer:"ItemsContainer_itemContainer__R5QUq"}},123:function(e,t,n){e.exports={li:"Element_li__2MUoQ"}},124:function(e,t,n){e.exports={main:"home_main__3ygrW"}},125:function(e,t,n){e.exports={main:"feed_main__3gURw"}},16:function(e,t,n){e.exports={main:"profile_main__qGy5r",nav:"profile_nav__1ddV4",link_active:"profile_link_active__F7ryI",link:"profile_link__1-1p8",form:"profile_form__3yKlC",input:"profile_input__3ssZ-",activeInput:"profile_activeInput__2SVsO",text:"profile_text__14iPx",buttons:"profile_buttons__1vzW7"}},20:function(e,t,n){e.exports={status:"OrderInfo_status__1jnsn",done:"OrderInfo_done__liYxU",nameOrder:"OrderInfo_nameOrder__3nR8o",numberOrder:"OrderInfo_numberOrder__1BKMp",container:"OrderInfo_container__2m1fF",icon:"OrderInfo_icon__2P-eR",listIngredients:"OrderInfo_listIngredients__2edfH",li:"OrderInfo_li__2nakm",nameContainer:"OrderInfo_nameContainer__2oUDp",price:"OrderInfo_price__7FCJz",footer:"OrderInfo_footer__1hR8E"}},21:function(e,t,n){e.exports={card:"FeedCard_card__3WcuG",header:"FeedCard_header__ApFOU",footer:"FeedCard_footer__36hmL",price:"FeedCard_price__2WMMl",imageContainer:"FeedCard_imageContainer__1M4r2",icon:"FeedCard_icon__2jIU0",icon_last:"FeedCard_icon_last__6U9DC",color:"FeedCard_color__2a-fq",number:"FeedCard_number__2DuJk",link:"FeedCard_link__3SZlc"}},215:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(43),s=n.n(c),i=n(12),o=n(57),u=function(){return Object(o.b)()},l=o.c,d=n(4),j=n(2),m=n.n(j),b=n(58),p=n.n(b),x=n(115),f=n.n(x),_=n(30),O=n.n(_),h=n(7),v=n(0),g=function(){var e=l((function(e){return e.user})),t=e.userName;return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{className:m()(O.a.list),children:[Object(v.jsxs)(h.c,{activeClassName:m()(O.a.activeContainer),className:m()("p-5 mt-4 mb-4 ".concat(O.a.container)),exact:!0,to:{pathname:"/"},children:[Object(v.jsx)(d.BurgerIcon,{type:"secondary"}),Object(v.jsx)("p",{className:m()("text text_type_main-default pl-2"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(v.jsxs)(h.c,{activeClassName:m()(O.a.activeContainer),className:m()("p-5 mt-4 mb-4 ml-2 ".concat(O.a.container)),to:{pathname:"/feed"},children:[Object(v.jsx)(d.ListIcon,{type:"secondary"}),Object(v.jsx)("p",{className:m()("text text_type_main-default pl-2"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(v.jsx)(h.c,{className:m()("".concat(O.a.logo," ").concat(O.a.container)),to:{pathname:"/"},children:Object(v.jsx)(d.Logo,{})}),Object(v.jsxs)(h.c,{activeClassName:m()(O.a.activeContainer),className:m()("p-5 mt-4 mb-4 ".concat(O.a.container)),to:{pathname:"/profile"},children:[Object(v.jsx)(d.ProfileIcon,{type:"secondary"}),Object(v.jsx)("p",{className:m()("text text_type_main-default pl-2"),children:""!==t?t:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},y=function(){return Object(v.jsx)("header",{className:m()(f.a.header),children:Object(v.jsx)(g,{})})},N=n(59),k=n.n(N),C=n(117),I=n.n(C),w=function(e){var t=e.onClose;return Object(v.jsx)("div",{className:m()(I.a.container),onClick:t})},T=function(e){var t=e.children,n=e.title,a=e.onClose,s=document.getElementById("modal-root"),o=Object(i.g)(),u=function(){a?a():o.goBack()};return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&u()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]),s&&Object(c.createPortal)(Object(v.jsxs)("div",{className:m()(k.a.window),children:[Object(v.jsx)(w,{onClose:u}),Object(v.jsxs)("div",{className:m()(k.a.container),children:[Object(v.jsx)("h2",{className:m()("".concat(k.a.title," text text_type_main-large")),children:n}),Object(v.jsx)("button",{className:m()(k.a.button),onClick:function(){return u()},children:Object(v.jsx)(d.CloseIcon,{type:"primary"})}),t]})]}),s)},S=n(49),L=n.n(S),E=function(){var e=l((function(e){return e.ingredients})),t=e.ingredients,n=Object(i.i)().id,r=t.find((function(e){return e._id===n}));return r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:r.image_large,alt:r.name}),Object(v.jsx)("p",{className:m()("text text_type_main-medium mt-4 mb-8"),children:r.name}),Object(v.jsxs)("ul",{className:m()(L.a.description),children:[Object(v.jsxs)("li",{className:m()(L.a.li),children:[Object(v.jsx)("p",{className:m()("text text_type_main-default text_color_inactive"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u0430\u043b\u043b"}),Object(v.jsx)("p",{className:m()("text text_type_digits-default text_color_inactive"),children:r.calories})]}),Object(v.jsxs)("li",{className:m()(L.a.li),children:[Object(v.jsx)("p",{className:m()("text text_type_main-default text_color_inactive"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(v.jsx)("p",{className:m()("text text_type_digits-default text_color_inactive"),children:r.proteins})]}),Object(v.jsxs)("li",{className:m()(L.a.li),children:[Object(v.jsx)("p",{className:m()("text text_type_main-default text_color_inactive"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(v.jsx)("p",{className:m()("text text_type_digits-default text_color_inactive"),children:r.fat})]}),Object(v.jsxs)("li",{className:m()(L.a.li),children:[Object(v.jsx)("p",{className:m()("text text_type_main-default text_color_inactive"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(v.jsx)("p",{className:m()("text text_type_digits-default text_color_inactive"),children:r.carbohydrates})]})]})]}):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},z=n(118),B=n.n(z),F=n.p+"static/media/check-icon.f3932884.png",R=function(){var e=l((function(e){return e.order})),t=e.orderInfo;return t.ingredients.length,Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{className:m()("text text_type_digits-large mt-20"),children:t.number}),Object(v.jsx)("p",{className:m()("text text_type_main-medium mt-8 mb-15"),children:" \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 "}),Object(v.jsx)("img",{className:m()(B.a.image),src:F,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(v.jsx)("p",{className:m()("text text_type_main-default mt-15 mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(v.jsx)("p",{className:m()("text text_type_main-default text_color_inactive mb-15"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},U=n(14),A=n(20),M=n.n(A),D=n(17),P=n(13),W=n.n(P),V=n(25),q=n(6),H=n(5),G=n(44),J=n(45),X=n(47),Z=n(46),K="https://norma.nomoreparties.space/api";function Y(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Q(e,t,n){var r=t.split("Bearer ")[1],a=(n=n||{}).expires;if("number"==typeof a&&a){var c=new Date;c.setTime(c.getTime()+1e3*a),a=n.expires=c}a&&a.toUTCString&&(n.expires=a.toUTCString());var s=e+"="+(r=encodeURIComponent(r));for(var i in n){s+="; "+i;var o=n[i];!0!==o&&(s+="="+o)}document.cookie=s}var $=new(function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r,a=e.baseUrl;return Object(G.a)(this,n),(r=t.call(this,a)).baseUrl=void 0,r.baseUrl=a,r}return Object(J.a)(n,[{key:"_request",value:function(e,t,n){var r=Y("burgerToken"),a={method:e,headers:{"Content-Type":"application/json",Authorization:r?"Bearer ".concat(r):""}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(H.a)(Object(H.a)({},a),{},{body:JSON.stringify(n)}):a)}},{key:"getIdegrients",value:function(){return this._request("GET","ingredients")}},{key:"postOrders",value:function(e){return this._request("POST","orders",e)}},{key:"getOrder",value:function(e){return this._request("GET","orders/".concat(e))}}]),n}(a.a.Component))({baseUrl:K}),ee=Object(q.b)("ingredients/fetchIngredients",Object(V.a)(W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getIdegrients();case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})))),te=Object(q.c)({name:"ingredients",initialState:{ingredients:[],isIngredients:!1},reducers:{},extraReducers:function(e){e.addCase(ee.pending,(function(e){return e})).addCase(ee.fulfilled,(function(e,t){e.ingredients=t.payload,e.isIngredients=!0})).addCase(ee.rejected,(function(e){e.isIngredients=!1}))}}),ne=te.reducer,re=(te.actions,n(39)),ae=Object(q.c)({name:"elements",initialState:{bun:{_id:"",name:"",type:"",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:"",image_mobile:"",image_large:"",__v:0},elements:[],isElements:!1},reducers:{postBun:function(e,t){e.bun=t.payload,e.isElements=!0},postElement:{reducer:function(e,t){e.elements=[].concat(Object(re.a)(e.elements),[t.payload])},prepare:function(e){var t=Object(q.d)();return{payload:Object(H.a)({uid:t},e)}}},deleteElement:function(e,t){e.elements=e.elements.filter((function(e){return e.uid!==t.payload}))},newOrderElements:function(e,t){e.elements=t.payload}}}),ce=ae.reducer,se=ae.actions,ie=Object(q.c)({name:"ingredient",initialState:{ingredient:{},isOpenModal:!1},reducers:{openModal:function(e,t){e.ingredient=t.payload,e.isOpenModal=!0},closeModal:function(e){e.ingredient={},e.isOpenModal=!1}}}),oe=ie.reducer,ue=(ie.actions,Object(q.b)("order/fetchOrder",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,$.postOrders(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c.order);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),le=Object(q.b)("order/fetchOrderInfo",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,$.getOrder(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c.orders);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),de=Object(q.c)({name:"order",initialState:{order:[],orderInfo:{ingredients:[],_id:"",owner:{createdAt:"",email:"",name:"",updatedAt:""},status:"",name:"",createdAt:"",updatedAt:"",number:0,price:0},isOrder:!1,isLoadingOrder:!0},reducers:{closeModal:function(e){e.order=[],e.orderInfo={ingredients:[],_id:"",owner:{createdAt:"",email:"",name:"",updatedAt:""},status:"",name:"",createdAt:"",updatedAt:"",number:0,price:0},e.isOrder=!1}},extraReducers:function(e){e.addCase(ue.pending,(function(e){e.isOrder=!1})).addCase(ue.fulfilled,(function(e,t){e.isOrder=!0,e.orderInfo=t.payload})).addCase(ue.rejected,(function(e){return e})).addCase(le.pending,(function(e){e.isLoadingOrder=!1})).addCase(le.fulfilled,(function(e,t){e.isLoadingOrder=!0,e.order=t.payload})).addCase(le.rejected,(function(e){e.isLoadingOrder=!0}))}}),je=de.reducer,me=de.actions,be="".concat(K,"/auth"),pe=new(function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r,a=e.baseUrl;return Object(G.a)(this,n),(r=t.call(this,a)).baseUrl=void 0,r.baseUrl=a,r}return Object(J.a)(n,[{key:"_request",value:function(e,t,n){var r=Y("burgerToken"),a={method:e,headers:{"Content-Type":"application/json",Authorization:r?"Bearer ".concat(r):""}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(H.a)(Object(H.a)({},a),{},{body:JSON.stringify(n)}):a)}},{key:"login",value:function(e){return this._request("POST","login",e)}},{key:"register",value:function(e){return this._request("POST","register",e)}},{key:"logout",value:function(e){return this._request("POST","logout",e)}},{key:"newToken",value:function(e){return this._request("POST","token",e)}},{key:"checkUser",value:function(){return this._request("GET","user")}},{key:"editUser",value:function(e){return this._request("PATCH","user",e)}}]),n}(a.a.Component))({baseUrl:be}),xe=new(function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r,a=e.baseUrl;return Object(G.a)(this,n),(r=t.call(this,a)).baseUrl=void 0,r.baseUrl=a,r}return Object(J.a)(n,[{key:"_request",value:function(e,t,n){var r={method:e,headers:{"Content-Type":"application/json"}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(H.a)(Object(H.a)({},r),{},{body:JSON.stringify(n)}):r)}},{key:"forgotPassword",value:function(e){return this._request("POST","password-reset",e)}},{key:"resetPassword",value:function(e){return this._request("POST","password-reset/reset",e)}}]),n}(a.a.Component))({baseUrl:K}),fe=Object(q.b)("user/fetchNewUser",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.register(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_e=Object(q.b)("user/fetchAuth",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.login(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Oe=Object(q.b)("user/fetchLogout",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.logout(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),he=Object(q.b)("user/fetchCheckUser",function(){var e=Object(V.a)(W.a.mark((function e(t){var n,r,a,c,s,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.checkUser();case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,n.json();case 12:if("jwt expired"!==e.sent.message){e.next=30;break}return e.next=16,pe.newToken({token:t});case 16:return a=e.sent,e.next=19,a.json();case 19:if(Q("burgerToken",(c=e.sent).accessToken),localStorage.setItem("refBurgerToken",c.refreshToken),!0!==c.success){e.next=30;break}return e.next=25,pe.checkUser();case 25:return s=e.sent,e.next=28,s.json();case 28:return i=e.sent,e.abrupt("return",i);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ve=Object(q.b)("user/fetchEditUser",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.editUser(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ge=Object(q.b)("user/fetchForgotPassword",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,xe.forgotPassword(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(q.b)("user/fetchResetPassword",function(){var e=Object(V.a)(W.a.mark((function e(t,n){var r,a,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,xe.resetPassword(t);case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,a.json();case 13:return s=e.sent,e.abrupt("return",r(s.message));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ne=Object(q.c)({name:"user",initialState:{isAuth:!1,isLoader:!0,isForgot:!1,isReset:!1,userName:"",userEmail:"",errorMessage:""},reducers:{endLoader:function(e){e.isLoader=!0},defaultReset:function(e){e.isReset=!1,e.isForgot=!1}},extraReducers:function(e){e.addCase(fe.pending,(function(e){e.isLoader=!1})).addCase(fe.fulfilled,(function(e,t){Q("burgerToken",t.payload.accessToken),localStorage.setItem("refBurgerToken",t.payload.refreshToken),e.userName=t.payload.user.name,e.userEmail=t.payload.user.email,e.isLoader=!0,e.isAuth=t.payload.success})).addCase(fe.rejected,(function(e){e.isLoader=!0})).addCase(_e.pending,(function(e){e.isLoader=!1})).addCase(_e.fulfilled,(function(e,t){Q("burgerToken",t.payload.accessToken),localStorage.setItem("refBurgerToken",t.payload.refreshToken),e.isLoader=!0,e.isAuth=t.payload.success,e.userName=t.payload.user.name,e.userEmail=t.payload.user.email})).addCase(_e.rejected,(function(e){e.isLoader=!0})).addCase(Oe.pending,(function(e){e.isLoader=!1})).addCase(Oe.fulfilled,(function(e){Q("burgerToken","",{"max-age":-1}),localStorage.removeItem("refBurgerToken"),e.isLoader=!0,e.isAuth=!1,e.userName="",e.userEmail=""})).addCase(Oe.rejected,(function(e){e.isLoader=!0})).addCase(he.pending,(function(e){e.isLoader=!1})).addCase(he.fulfilled,(function(e,t){var n,r,a;e.userName=null===(n=t.payload)||void 0===n?void 0:n.user.name,e.userEmail=null===(r=t.payload)||void 0===r?void 0:r.user.email,e.isLoader=!0,e.isAuth=null===(a=t.payload)||void 0===a?void 0:a.success})).addCase(he.rejected,(function(e){e.isLoader=!0})).addCase(ve.pending,(function(e){e.isLoader=!1})).addCase(ve.fulfilled,(function(e,t){e.userName=t.payload.user.name,e.userEmail=t.payload.user.email,e.isLoader=!0})).addCase(ve.rejected,(function(e){e.isLoader=!0})).addCase(ge.pending,(function(e){e.isLoader=!1})).addCase(ge.fulfilled,(function(e){e.isLoader=!0,e.isForgot=!0})).addCase(ge.rejected,(function(e){e.isLoader=!0})).addCase(ye.pending,(function(e){e.isLoader=!1})).addCase(ye.fulfilled,(function(e){e.isLoader=!0,e.isReset=!0,e.isForgot=!1})).addCase(ye.rejected,(function(e){e.isLoader=!0}))}}),ke=Ne.reducer,Ce=Ne.actions,Ie=Object(q.c)({name:"socket",initialState:{isConect:!1,isLoadingWs:!0,success:!1,orders:[],total:null,totalToday:null,error:""},reducers:{wsInit:function(e,t){},connectionFeedList:function(e,t){e.isLoadingWs=!1},connectionOrderList:function(e,t){e.isLoadingWs=!1},onOpen:function(e){e.isConect=!0},getMessage:function(e,t){e.isLoadingWs=!0,e.success=t.payload.success,e.orders=t.payload.orders,e.total=t.payload.total,e.totalToday=t.payload.totalToday},onError:function(e){e.isConect=!1,e.isLoadingWs=!0},onClose:function(e){e.isConect=!1,e.success=!1,e.orders=[],e.total=null,e.totalToday=null},wsSendMessage:function(){},wsClose:function(){}}}),we=Ie.reducer,Te=Ie.actions,Se=Object(D.b)({ingredients:ne,elements:ce,ingredient:oe,order:je,user:ke,socket:we}),Le=n(48),Ee=n.n(Le),ze=(n(214),n(119)),Be=n.n(ze),Fe=function(e){return Ee.a.extend(Be.a),Ee.a.locale("ru"),Ee()(e).from(Ee()())},Re=function(){var e=Object(i.i)().id,t=u(),n=l((function(e){return e.ingredients})),a=n.ingredients,c=l((function(e){return e.order})),s=c.order;Object(r.useEffect)((function(){return t(le(e)),function(){t(me.closeModal())}}),[]);var o=[];if(0===s.length)return Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"});for(var j=s[0],b=function(e){var t=a.find((function(t){return t._id===j.ingredients[e]}));t&&o.push(t)},p=0;p<j.ingredients.length;p++)b(p);var x=function(e){var t=0;return o.forEach((function(n){n._id===e&&(t+=1)})),t},f=o.reduce((function(e,t){return e+t.price}),0);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{className:m()("text text_type_digits-default mb-10 ".concat(M.a.numberOrder)),children:"#".concat(j.number)}),Object(v.jsx)("p",{className:m()("text text_type_main-medium mb-3 ".concat(M.a.nameOrder)),children:j.name}),Object(v.jsx)("p",{className:m()("text text_type_main-default ".concat(M.a.status),Object(U.a)({},M.a.done,"done"===j.status)),children:"done"===j.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(v.jsxs)("div",{className:M.a.container,children:[Object(v.jsx)("p",{className:"text text_type_main-medium",children:" \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e:"}),Object(v.jsx)("ul",{className:M.a.listIngredients,children:o.map((function(e){return Object(v.jsxs)("li",{className:M.a.li,children:[Object(v.jsxs)("div",{className:M.a.nameContainer,children:[Object(v.jsx)("div",{className:M.a.icon,style:{backgroundImage:"url(".concat(e.image,")")}}),Object(v.jsx)("p",{className:"text text_type_main-default ".concat(M.a.name),children:e.name})]}),Object(v.jsxs)("div",{className:M.a.price,children:[Object(v.jsx)("p",{className:"text text_type_digits-default",children:"".concat(x(e._id)," x ").concat(e.price)}),Object(v.jsx)(d.CurrencyIcon,{type:"primary"})]})]},Object(q.d)())}))}),Object(v.jsxs)("div",{className:M.a.footer,children:[Object(v.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Fe(j.updatedAt)}),Object(v.jsxs)("div",{className:M.a.price,children:[Object(v.jsx)("p",{className:"text text_type_digits-default",children:f}),Object(v.jsx)(d.CurrencyIcon,{type:"primary"})]})]})]})]})},Ue=n(127),Ae=["children"],Me=function(e){var t=e.children,n=Object(Ue.a)(e,Ae),r=l((function(e){return e.user})),a=r.isAuth,c=r.isLoader;return c?c&&Object(v.jsx)(i.b,Object(H.a)(Object(H.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(v.jsx)(i.a,{to:{pathname:"/login",state:{from:n}}})}})):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},De=n(8),Pe=n(34),We=n.n(Pe),Ve=function(){var e=Object(r.useState)({email:"",password:"",name:""}),t=Object(De.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(De.a)(c,2),o=s[0],j=s[1],b=l((function(e){return e.user})),p=b.isAuth,x=b.isLoader,f=u(),_=Object(r.useRef)(null),O=function(e){var t=e.target,r=t.value,c=t.name;a(Object(H.a)(Object(H.a)({},n),{},Object(U.a)({},c,r)))};return p?Object(v.jsx)(i.a,{to:"/"}):x?Object(v.jsxs)("main",{className:m()(We.a.main),children:[Object(v.jsxs)("form",{className:m()(We.a.form),onSubmit:function(){f(fe(n))},children:[Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(v.jsx)("div",{className:m()(We.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u0418\u043c\u044f",type:"text",onChange:O,value:n.name,name:"name",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)("div",{className:m()(We.a.input),children:Object(v.jsx)(d.Input,{placeholder:"Email",type:"email",onChange:O,value:n.email,name:"email",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)("div",{className:m()(We.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:o?"ShowIcon":"HideIcon",type:o?"text":"password",onChange:O,value:n.password,name:"password",error:!1,ref:_,onIconClick:function(){setTimeout((function(){var e;return null===(e=_.current)||void 0===e?void 0:e.focus()}),0),j(!o)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)(d.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(v.jsxs)("p",{className:m()("text text_type_main-default text_color_inactive ".concat(We.a.text)),children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0442\u0441\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b?",Object(v.jsx)(h.c,{className:m()(We.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},qe=n(220),He=n(126),Ge=n(90),Je=n.n(Ge),Xe=n(120),Ze=n.n(Xe),Ke=function(e){var t=e.current,n=e.handleCurrent,r=function(e){n(e)};return Object(v.jsxs)("div",{className:m()(Ze.a.container),children:[Object(v.jsx)(d.Tab,{value:"\u0431\u0443\u043b\u043a\u0438",active:"\u0431\u0443\u043b\u043a\u0438"===t,onClick:r,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(v.jsx)(d.Tab,{value:"\u0441\u043e\u0443\u0441\u044b",active:"\u0441\u043e\u0443\u0441\u044b"===t,onClick:r,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(v.jsx)(d.Tab,{value:"\u043c\u044f\u0441\u043e",active:"\u043c\u044f\u0441\u043e"===t,onClick:r,children:"\u041c\u044f\u0441\u043e"})]})},Ye=n(121),Qe=n.n(Ye),$e=n(50),et=n.n($e),tt=n(221),nt=function(e){var t=e.item,n=Object(i.h)(),r=l((function(e){return e.elements})),a=r.bun,c=l((function(e){return e.elements})),s=c.elements,o=0;t._id===a._id?o+=1:s.forEach((function(e){return e._id===t._id?o+=1:o}));var u=Object(tt.a)({type:t.type,item:t,collect:function(e){return{isDrag:e.isDragging()}}}),j=Object(De.a)(u,2),b=(j[0].isDrag,j[1]);return Object(v.jsx)("li",{className:m()(et.a.item),draggable:!0,ref:b,children:Object(v.jsxs)(h.b,{to:{pathname:"/ingredients/".concat(t._id),state:{background:n}},className:et.a.item__link,children:[0!==o&&Object(v.jsx)(d.Counter,{count:o,size:"default"}),Object(v.jsx)("img",{className:m()("".concat(et.a.image," mb-2")),src:t.image,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0438\u043d\u0434\u0438\u0433\u0440\u0435\u043d\u0442\u0430"}),Object(v.jsxs)("div",{className:m()("".concat(et.a.price," mb-2")),children:[Object(v.jsx)("p",{className:m()("text text_type_digits-default mr-2"),children:t.price}),Object(v.jsx)(d.CurrencyIcon,{type:"primary"})]}),Object(v.jsx)("p",{className:m()("".concat(et.a.description," text text_type_main-default mb-10")),children:t.name})]})})},rt=a.a.forwardRef((function(e,t){var n=e.data,r=e.children;return Object(v.jsxs)("div",{ref:t,children:[Object(v.jsx)("h2",{className:m()("text text_type_main-medium pt-10"),children:r}),Object(v.jsx)("ul",{className:m()("pr-4 pl-4 pt-6 pb-10 ".concat(Qe.a.itemContainer)),children:n.map((function(e){return Object(v.jsx)(nt,{item:e},e._id)}))})]})})),at=function(){var e=l((function(e){return e.ingredients})),t=e.ingredients,n=a.a.useState("\u0431\u0443\u043b\u043a\u0438"),c=Object(De.a)(n,2),s=c[0],i=c[1],o=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(null),j=Object(r.useMemo)((function(){return t.filter((function(e){return"bun"===e.type}))}),[t]),b=Object(r.useMemo)((function(){return t.filter((function(e){return"sauce"===e.type}))}),[t]),p=Object(r.useMemo)((function(){return t.filter((function(e){return"main"===e.type}))}),[t]);return Object(v.jsxs)("section",{className:m()(Je.a.sectionSize),children:[Object(v.jsx)("h1",{className:m()("text text_type_main-large mt-10 mb-5"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(v.jsx)(Ke,{current:s,handleCurrent:function(e){i(e),"\u0431\u0443\u043b\u043a\u0438"===e?o.current&&o.current.scrollIntoView({behavior:"smooth"}):"\u0441\u043e\u0443\u0441\u044b"===e?u.current&&u.current.scrollIntoView({behavior:"smooth"}):d.current&&d.current.scrollIntoView({behavior:"smooth"})}}),Object(v.jsxs)("div",{className:m()(Je.a.container),onScroll:function(e){e.stopPropagation();var t=e.target,n=t?t.scrollTop:null,r=u.current?u.current.offsetTop:0,a=d.current?d.current.offsetTop:0;i(n+200>=a?"\u043c\u044f\u0441\u043e":n+200>=r?"\u0441\u043e\u0443\u0441\u044b":"\u0431\u0443\u043b\u043a\u0438")},children:[Object(v.jsx)(rt,{data:j,ref:o,children:"\u0411\u0443\u043b\u043a\u0438"},1),Object(v.jsx)(rt,{data:b,ref:u,children:"\u0421\u043e\u0443\u0441\u044b"},2),Object(v.jsx)(rt,{data:p,ref:d,children:"\u041c\u044f\u0441\u043e"},3)]})]})},ct=n(222),st=n(35),it=n.n(st),ot=n(123),ut=n.n(ot),lt=function(e){var t=e.element,n=e.moveCard,a=e.index,c=u(),s=Object(r.useRef)(null),i=Object(tt.a)({type:"element",item:{element:t,index:a}}),o=Object(De.a)(i,2)[1],l=Object(ct.a)({accept:"element",hover:function(e){e.index!==a&&s.current&&(n(e.index,a),e.index=a)}});return o((0,Object(De.a)(l,2)[1])(s)),Object(v.jsxs)("li",{className:m()(ut.a.li),draggable:!0,ref:s,children:[Object(v.jsx)(d.DragIcon,{type:"primary"}),Object(v.jsx)(d.ConstructorElement,{text:t.name,price:t.price,thumbnail:t.image,handleClose:function(){return e=t.uid,void c(se.deleteElement(e));var e}})]})},dt=a.a.memo((function(){var e=Object(i.g)(),t=u(),n=l((function(e){return e.elements.bun})),r=l((function(e){return e.elements.elements})),a=l((function(e){return e.user})),c=[n].concat(Object(re.a)(r)),s=c.reduce((function(e,t){return e+t.price}),0),o=function(e,n){var a=Object(re.a)(r),c=a[e];a.splice(e,1),a.splice(n,0,c),t(se.newOrderElements(a))},j=Object(ct.a)({accept:"bun",drop:function(e){t(se.postBun(e))}}),b=Object(De.a)(j,2)[1],p=Object(ct.a)({accept:["sauce","main"],drop:function(e){t(se.postElement(e))},collect:function(e){return{isHover:e.isOver()}}}),x=Object(De.a)(p,2),f=(x[0].isHover,x[1]);return Object(v.jsxs)("section",{className:m()("pt-25 + ".concat(it.a.container)),children:[Object(v.jsx)("div",{className:it.a.bun,ref:b,children:Object(v.jsx)(d.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(n.name," (\u0432\u0435\u0440\u0445)"),price:n.price,thumbnail:n.image})}),Object(v.jsx)("ul",{className:it.a.ul,ref:f,children:0!==r.length?r.map((function(e,t){return Object(v.jsx)(lt,{element:e,moveCard:o,index:t},e.uid)})):Object(v.jsx)("div",{className:it.a.box,children:Object(v.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u0432\u043a\u0443\u0441\u043d\u0443\u044e \u043d\u0430\u0447\u0438\u043d\u043a\u0443. \u041c\u043e\u0436\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e"})})}),Object(v.jsx)("div",{className:it.a.bun,children:Object(v.jsx)(d.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(n.name," (\u043d\u0438\u0437)"),price:n.price,thumbnail:n.image})}),Object(v.jsxs)("div",{className:"".concat(it.a.container_btm," + mt-10"),children:[Object(v.jsxs)("div",{className:it.a.container_price,children:[Object(v.jsx)("p",{className:"text text_type_digits-medium mr-2",children:s}),Object(v.jsx)(d.CurrencyIcon,{type:"primary"})]}),Object(v.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(){return function(n){if(a){var r=n.map((function(e){return e._id}));t(ue({ingredients:r}))}else e.replace({pathname:"/login"})}(c)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})})),jt=dt,mt=n(70),bt=n.n(mt),pt=function(){var e=u(),t=Object(ct.a)({accept:"bun",drop:function(t){e(se.postBun(t))},collect:function(e){return{isHover:e.isOver()}}}),n=Object(De.a)(t,2),r=(n[0].isHover,n[1]);return Object(v.jsxs)("div",{className:m()(bt.a.container),ref:r,children:[Object(v.jsx)("div",{className:m()(bt.a.bun_top),children:Object(v.jsx)("p",{className:m()("text text_type_main-default"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043e\u0447\u043a\u0443, \u0430 \u0437\u0430\u0442\u0435\u043c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),Object(v.jsx)("div",{className:m()(bt.a.bun_bottom)})]})},xt=n(124),ft=n.n(xt),_t=function(){var e=l((function(e){return e.ingredients})),t=e.isIngredients,n=l((function(e){return e.elements})),r=n.isElements;return t?Object(v.jsx)(qe.a,{backend:He.a,children:Object(v.jsxs)("main",{className:m()(ft.a.main),children:[Object(v.jsx)(at,{}),r?Object(v.jsx)(jt,{}):Object(v.jsx)(pt,{})]})}):null},Ot=n(32),ht=n.n(Ot),vt=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(De.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(De.a)(c,2),o=s[0],j=s[1],b=l((function(e){return e.user})),p=b.isAuth,x=b.isLoader,f=b.isReset,_=u(),O=Object(r.useRef)(null),g=Object(i.h)(),y=function(e){var t=e.target,r=t.value,c=t.name;a(Object(H.a)(Object(H.a)({},n),{},Object(U.a)({},c,r)))};f&&_(Ce.defaultReset());var N;return p?Object(v.jsx)(i.a,{to:(null===(N=g.state)||void 0===N?void 0:N.from)||"/"}):x?Object(v.jsxs)("main",{className:m()(ht.a.main),children:[Object(v.jsxs)("form",{className:m()(ht.a.form),onSubmit:function(){_(_e(n)),a({email:"",password:""})},children:[Object(v.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object(v.jsx)("div",{className:m()(ht.a.input),children:Object(v.jsx)(d.Input,{placeholder:"Email",type:"email",onChange:y,value:n.email,name:"email",error:!1,ref:O,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)("div",{className:m()(ht.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:o?"ShowIcon":"HideIcon",type:o?"text":"password",onChange:y,value:n.password,name:"password",error:!1,ref:O,onIconClick:function(){setTimeout((function(){var e;return null===(e=O.current)||void 0===e?void 0:e.focus()}),0),j(!o)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)(d.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(v.jsxs)("p",{className:m()("text text_type_main-default text_color_inactive ".concat(ht.a.text)),children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(v.jsx)(h.c,{className:m()(ht.a.link),to:{pathname:"/register"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(v.jsxs)("p",{className:m()("text text_type_main-default text_color_inactive ".concat(ht.a.text)),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(v.jsx)(h.c,{className:ht.a.link,to:{pathname:"/forgot-password"},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]}):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},gt=n(51),yt=n.n(gt),Nt=function(){var e=Object(r.useState)({email:""}),t=Object(De.a)(e,2),n=t[0],a=t[1],c=l((function(e){return e.user})),s=c.isForgot,o=c.isLoader,j=c.isAuth,b=u();return j?Object(v.jsx)(i.a,{to:"/"}):s?Object(v.jsx)(i.a,{to:"/reset-password"}):o?Object(v.jsxs)("main",{className:m()(yt.a.main),children:[Object(v.jsxs)("form",{className:m()(yt.a.form),onSubmit:function(){b(ge(n)),a({email:""})},children:[Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(v.jsx)("div",{className:m()(yt.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",type:"email",onChange:function(e){var t=e.target,r=t.value,c=t.name;a(Object(H.a)(Object(H.a)({},n),{},Object(U.a)({},c,r)))},value:n.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)(d.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(v.jsxs)("p",{className:m()("text text_type_main-default text_color_inactive ".concat(yt.a.text)),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(v.jsx)(h.c,{className:m()(yt.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},kt=n(40),Ct=n.n(kt),It=function(){var e=Object(r.useState)({password:"",token:""}),t=Object(De.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(De.a)(c,2),o=s[0],j=s[1],b=l((function(e){return e.user})),p=b.isReset,x=b.isLoader,f=b.isAuth,_=b.isForgot,O=Object(r.useRef)(null),g=u(),y=function(e){var t=e.target,r=t.value,c=t.name;a(Object(H.a)(Object(H.a)({},n),{},Object(U.a)({},c,r)))};return f||!_?Object(v.jsx)(i.a,{to:"/"}):p?Object(v.jsx)(i.a,{to:"/login"}):x?Object(v.jsxs)("main",{className:m()(Ct.a.main),children:[Object(v.jsxs)("form",{className:m()(Ct.a.form),onSubmit:function(e){e.preventDefault(),g(ye(n)),a({password:"",token:""})},children:[Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(v.jsx)("div",{className:m()(Ct.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:o?"ShowIcon":"HideIcon",type:o?"text":"password",onChange:y,value:n.password,name:"password",error:!1,ref:O,onIconClick:function(){setTimeout((function(){var e;return null===(e=O.current)||void 0===e?void 0:e.focus()}),0),j(!o)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)("div",{className:m()(Ct.a.input),children:Object(v.jsx)(d.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",type:"text",onChange:y,value:n.token,name:"token",error:!1,ref:O,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(v.jsx)(d.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(v.jsxs)("p",{className:m()("text text_type_main-default text_color_inactive ".concat(Ct.a.text)),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(v.jsx)(h.c,{className:m()(Ct.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(v.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},wt=n(16),Tt=n.n(wt),St=function(){var e=Object(i.j)().url,t=l((function(e){return e.user})),n=t.userName,a=t.userEmail,c=Object(r.useState)({name:n,email:a,password:""}),s=Object(De.a)(c,2),o=s[0],j=s[1],b=Object(r.useState)(!1),p=Object(De.a)(b,2),x=p[0],f=p[1],_=Object(r.useState)(!1),O=Object(De.a)(_,2),g=O[0],y=O[1],N=Object(r.useState)(!1),k=Object(De.a)(N,2),C=k[0],I=k[1],w=Object(r.useRef)(null),T=Object(r.useRef)(null),S=Object(r.useRef)(null),L=u(),E=function(e){var t=e.target,n=t.value,r=t.name;j(Object(H.a)(Object(H.a)({},o),{},Object(U.a)({},r,n)))};return Object(v.jsxs)("main",{className:m()(Tt.a.main),children:[Object(v.jsxs)("nav",{className:m()(Tt.a.nav),children:[Object(v.jsx)(h.c,{className:Tt.a.link_active,to:{pathname:"".concat(e)},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(v.jsx)(h.c,{className:Tt.a.link,to:{pathname:"".concat(e,"/orders")},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(v.jsx)(h.c,{className:Tt.a.link,to:{pathname:"/login"},onClick:function(){var e=localStorage.getItem("refBurgerToken");L(Oe({token:e}))},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(v.jsx)("p",{className:m()("text text_type_main-small text_color_inactive ".concat(Tt.a.text)),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(v.jsxs)("form",{className:m()(Tt.a.form),onSubmit:function(e){e.preventDefault(),L(ve(o)),y(!1),I(!1),f(!1)},children:[Object(v.jsx)("div",{className:m()(Tt.a.input,Object(U.a)({},Tt.a.activeInput,x)),children:Object(v.jsx)(d.Input,{placeholder:"\u0418\u043c\u044f",icon:x?"CloseIcon":"EditIcon",type:"text",onChange:E,value:o.name?o.name:"",name:"name",error:!1,ref:w,onIconClick:function(){setTimeout((function(){var e;return null===(e=w.current)||void 0===e?void 0:e.focus()}),0),f(!x),y(!1),I(!1),x&&j(Object(H.a)(Object(H.a)({},o),{},{name:n}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!x})}),Object(v.jsx)("div",{className:m()(Tt.a.input,Object(U.a)({},Tt.a.activeInput,g)),children:Object(v.jsx)(d.Input,{placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:g?"CloseIcon":"EditIcon",type:"email",onChange:E,value:o.email?o.email:"",name:"email",error:!1,ref:T,onIconClick:function(){setTimeout((function(){var e;return null===(e=T.current)||void 0===e?void 0:e.focus()}),0),y(!g),f(!1),I(!1),g&&j(Object(H.a)(Object(H.a)({},o),{},{email:a}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!g})}),Object(v.jsx)("div",{className:m()(Tt.a.input,Object(U.a)({},Tt.a.activeInput,C)),children:Object(v.jsx)(d.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:C?"CloseIcon":"EditIcon",type:"password",onChange:E,value:o.password,name:"password",error:!1,ref:S,onIconClick:function(){setTimeout((function(){var e;return null===(e=S.current)||void 0===e?void 0:e.focus()}),0),I(!C),y(!1),f(!1),C&&j(Object(H.a)(Object(H.a)({},o),{},{password:""}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!C})}),(x||g||C)&&Object(v.jsxs)("div",{className:m()(Tt.a.buttons),children:[Object(v.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),j({name:n,email:a,password:""}),y(!1),I(!1),f(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(v.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})},Lt=n(33),Et=n.n(Lt),zt=n(21),Bt=n.n(zt),Ft=function(e){for(var t=e.ingredients,n=e.createdAt,r=e.status,a=e.name,c=e.number,s=l((function(e){return e.ingredients})),o=Object(i.h)(),u=(Object(i.j)().url,[]),j=function(e){var n=s.ingredients.find((function(n){return n._id===t[e]}));n&&u.push(n)},b=0;b<t.length;b++)j(b);var p=-40,x=6,f=0;return u.forEach((function(e){f+=e.price})),Object(v.jsx)(h.b,{to:{pathname:"".concat(o.pathname,"/").concat(c),state:{background:o}},className:Bt.a.link,children:Object(v.jsxs)("div",{className:Bt.a.card,children:[Object(v.jsxs)("div",{className:Bt.a.header,children:[Object(v.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(c)}),Object(v.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Fe(n)})]}),Object(v.jsxs)("div",{className:Bt.a.nameContainer,children:[Object(v.jsx)("p",{className:"".concat(Bt.a.description," text text_type_main-medium"),children:a}),Object(v.jsx)("p",{className:m()("text text_type_main-default mt-2",Object(U.a)({},Bt.a.color,"done"===r)),children:"done"===r?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"created"===r?"\u0421\u043e\u0437\u0434\u0430\u043d":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"})]}),Object(v.jsxs)("div",{className:Bt.a.footer,children:[Object(v.jsx)("div",{className:Bt.a.imageContainer,children:u.map((function(e,t){return t<6?(p+=40,x-=1,5===t?Object(v.jsx)("div",{className:"".concat(Bt.a.icon," ").concat(Bt.a.icon_last),style:{backgroundImage:"url(".concat(e.image,")"),position:"absolute",left:"".concat(p,"px"),zIndex:"".concat(x)},children:u.length-6!==0&&Object(v.jsxs)("p",{className:"text text_type_digits-default ".concat(Bt.a.number),children:["+",u.length-6]})},Object(q.d)()):Object(v.jsx)("div",{className:Bt.a.icon,style:{backgroundImage:"url(".concat(e.image,")"),position:"absolute",left:"".concat(p,"px"),zIndex:"".concat(x)}},Object(q.d)())):void 0}))}),Object(v.jsxs)("div",{className:Bt.a.price,children:[Object(v.jsx)("p",{className:"text text_type_digits-default mr-2",children:f}),Object(v.jsx)(d.CurrencyIcon,{type:"primary"})]})]})]})})},Rt=function(){var e=l((function(e){return e.socket})),t=e.orders,n=Object(re.a)(t).reverse(),a=Object(i.j)().url,c=u();return Object(r.useEffect)((function(){return c(Te.wsInit("?token=".concat(Y("burgerToken")))),function(){c(Te.wsClose())}}),[c]),Object(v.jsxs)("main",{className:m()(Et.a.main),children:[Object(v.jsxs)("nav",{className:m()(Et.a.nav),children:[Object(v.jsx)(h.c,{className:Et.a.link,to:{pathname:"/profile"},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(v.jsx)(h.c,{className:Et.a.link_active,to:{pathname:"".concat(a)},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(v.jsx)(h.c,{className:Et.a.link,to:{pathname:"/login"},onClick:function(){var e=localStorage.getItem("refBurgerToken");c(Oe({token:e}))},children:Object(v.jsx)("p",{className:m()("text text_type_main-medium"),children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(v.jsx)("p",{className:m()("text text_type_main-small text_color_inactive ".concat(Et.a.text)),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(v.jsx)("section",{className:m()(Et.a.sectionSize),children:Object(v.jsx)("div",{className:m()(Et.a.container),children:n.map((function(e){return Object(r.createElement)(Ft,Object(H.a)(Object(H.a)({},e),{},{key:e.createdAt}))}))})})]})},Ut=n(125),At=n.n(Ut),Mt=n(93),Dt=n.n(Mt),Pt=function(){var e=l((function(e){return e.socket})),t=e.orders;return Object(v.jsxs)("section",{className:m()(Dt.a.sectionSize),children:[Object(v.jsx)("h1",{className:m()("text text_type_main-large mt-10 mb-5"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(v.jsx)("div",{className:m()(Dt.a.container),children:t.map((function(e){return Object(r.createElement)(Ft,Object(H.a)(Object(H.a)({},e),{},{key:Object(q.d)()}))}))})]})},Wt=n(28),Vt=n.n(Wt),qt=function(){var e=l((function(e){return e.socket})),t=e.orders,n=e.total,r=e.totalToday,a=[],c=[];return t.forEach((function(e){if("done"===e.status)a.push(e);else{if("created"!==e.status)return;c.push(e)}})),Object(v.jsxs)("section",{className:Vt.a.sectionSize,children:[Object(v.jsxs)("div",{className:Vt.a.statusSection,children:[Object(v.jsxs)("div",{className:Vt.a.statusDone,children:[Object(v.jsx)("p",{className:"text text_type_main-medium ".concat(Vt.a.title),children:" \u0413\u043e\u0442\u043e\u0432\u044b: "}),Object(v.jsx)("div",{className:Vt.a.numbers,children:a.map((function(e){return Object(v.jsx)("p",{className:"text text_type_digits-default ".concat(Vt.a.order),children:e.number},Object(q.d)())}))})]}),Object(v.jsxs)("div",{className:Vt.a.statusCreated,children:[Object(v.jsx)("p",{className:"text text_type_main-medium ".concat(Vt.a.title),children:" \u0412 \u0440\u0430\u0431\u043e\u0442\u0435: "}),Object(v.jsx)("div",{className:Vt.a.numbers,children:c.map((function(e){return Object(v.jsx)("p",{className:"text text_type_digits-default",children:e.number},Object(q.d)())}))})]})]}),Object(v.jsxs)("div",{className:Vt.a.info,children:[Object(v.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(v.jsx)("p",{className:"text text_type_digits-large",children:n})]}),Object(v.jsxs)("div",{className:Vt.a.info,children:[Object(v.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(v.jsx)("p",{className:"text text_type_digits-large",children:r})]})]})},Ht=function(){var e=u();return Object(r.useEffect)((function(){return e(Te.wsInit("/all")),function(){e(Te.wsClose())}}),[e]),Object(v.jsxs)("div",{className:At.a.main,children:[Object(v.jsx)(Pt,{}),Object(v.jsx)(qt,{})]})},Gt=function(){var e=Object(i.h)(),t=e.state&&e.state.background,n=u(),a=l((function(e){return e.order})),c=a.isOrder;return Object(r.useEffect)((function(){n(ee()),function(){var e=Y("burgerToken"),t=localStorage.getItem("refBurgerToken");e&&n(he(t))}()}),[]),Object(v.jsxs)("div",{className:m()(p.a.app),children:[c&&Object(v.jsx)(T,{onClose:function(){n(me.closeModal())},children:Object(v.jsx)(R,{})}),Object(v.jsx)(y,{}),Object(v.jsxs)(i.d,{location:t||e,children:[Object(v.jsx)(i.b,{path:"/register",exact:!0,children:Object(v.jsx)(Ve,{})}),Object(v.jsx)(i.b,{path:"/login",exact:!0,children:Object(v.jsx)(vt,{})}),Object(v.jsx)(i.b,{path:"/forgot-password",exact:!0,children:Object(v.jsx)(Nt,{})}),Object(v.jsx)(i.b,{path:"/reset-password",exact:!0,children:Object(v.jsx)(It,{})}),Object(v.jsx)(Me,{path:"/profile",exact:!0,children:Object(v.jsx)(St,{})}),Object(v.jsx)(Me,{path:"/profile/orders",exact:!0,children:Object(v.jsx)(Rt,{})}),Object(v.jsx)(i.b,{path:"/",exact:!0,children:Object(v.jsx)(_t,{})}),Object(v.jsx)(i.b,{path:"/feed",exact:!0,children:Object(v.jsx)(Ht,{})}),Object(v.jsx)(i.b,{exact:!0,path:"/ingredients/:id",children:Object(v.jsx)("div",{className:p.a.app__ingredientContainer,children:Object(v.jsx)(E,{})})}),Object(v.jsx)(i.b,{exact:!0,path:"/feed/:id",children:Object(v.jsx)("div",{className:p.a.app__ingredientContainer,children:Object(v.jsx)(Re,{})})}),Object(v.jsx)(i.b,{exact:!0,path:"/profile/orders/:id",children:Object(v.jsx)("div",{className:p.a.app__ingredientContainer,children:Object(v.jsx)(Re,{})})})]}),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.b,{path:"/ingredients/:id",exact:!0,children:Object(v.jsx)(T,{children:Object(v.jsx)(E,{})})}),Object(v.jsx)(i.b,{path:"/feed/:id",exact:!0,children:Object(v.jsx)(T,{children:Object(v.jsx)(Re,{})})}),Object(v.jsx)(i.b,{path:"/profile/orders/:id",exact:!0,children:Object(v.jsx)(T,{children:Object(v.jsx)(Re,{})})})]})]})},Jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Xt=Object(q.a)({reducer:Se,middleware:function(e){return e().concat(function(e,t){return function(n){var r=null;return function(a){return function(c){var s=n.dispatch,i=c.type,o=c.payload;"socket/wsInit"===i&&(r=new WebSocket("".concat(e).concat(o))),r&&(r.onopen=function(){s(t.onOpen())},r.onerror=function(){s(t.onError())},r.onmessage=function(e){var n=e.data,r=JSON.parse(n);s(t.getMessage(r))},r.onclose=function(){s(t.onClose())},"socket/wsClose"===i&&r.close()),a(c)}}}}("wss://norma.nomoreparties.space/orders",Te))},devTools:!1});s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(o.a,{store:Xt,children:Object(v.jsx)(h.a,{children:Object(v.jsx)(Gt,{})})})}),document.getElementById("root")),Jt()},28:function(e,t,n){e.exports={sectionSize:"FeedInfo_sectionSize__TX-ut",statusSection:"FeedInfo_statusSection__1Z040",statusDone:"FeedInfo_statusDone__2DKlM",statusCreated:"FeedInfo_statusCreated__3LqEd",numbers:"FeedInfo_numbers__1aKRE",title:"FeedInfo_title__RiIzT",order:"FeedInfo_order__2WSML"}},30:function(e,t,n){e.exports={list:"Menu_list__GkHOa",container:"Menu_container__1fECk",activeContainer:"Menu_activeContainer__2-a-L",logo:"Menu_logo__WyNZT"}},32:function(e,t,n){e.exports={main:"login_main__1kXSo",form:"login_form__3DD6c",input:"login_input__mVNR9",text:"login_text__3nYhP",link:"login_link__2bcVJ"}},33:function(e,t,n){e.exports={main:"order_main__2qzTm",nav:"order_nav__kL_Vd",link_active:"order_link_active__3i8ug",link:"order_link__3aDCN",form:"order_form__1toUe",input:"order_input__1Odh4",activeInput:"order_activeInput__r1xZ9",text:"order_text__1bc7u",buttons:"order_buttons__1OFXc",sectionSize:"order_sectionSize__1DslW",container:"order_container__2mfHv"}},34:function(e,t,n){e.exports={main:"register_main__3hVcB",form:"register_form__16uRP",input:"register_input__2NBLl",text:"register_text__2d3To",link:"register_link__2XLtm"}},35:function(e,t,n){e.exports={container:"BurgerConstructor_container__1KzYX",ul:"BurgerConstructor_ul__3O6MA",container_btm:"BurgerConstructor_container_btm__2pOGw",container_price:"BurgerConstructor_container_price__1Huqp",box:"BurgerConstructor_box__IlNk2",bun:"BurgerConstructor_bun__38Ige"}},40:function(e,t,n){e.exports={main:"reset_main__2peA4",form:"reset_form__1L63D",input:"reset_input__-IklT",text:"reset_text__1HfVQ",link:"reset_link__1rSGJ"}},49:function(e,t,n){e.exports={title:"IngredientDetails_title__3GSbO",description:"IngredientDetails_description__lcCOY",li:"IngredientDetails_li___hz32"}},50:function(e,t,n){e.exports={item:"Item_item__2UEiG",item__link:"Item_item__link__2X0WR",image:"Item_image__1AZTA",price:"Item_price__1mLof",description:"Item_description__3dlL3"}},51:function(e,t,n){e.exports={main:"forgot_main__2j4V9",form:"forgot_form__29nTq",input:"forgot_input__1YWhL",text:"forgot_text__3pbuV",link:"forgot_link__pJbGh"}},58:function(e,t,n){e.exports={app:"App_app__2-W1N",app__ingredientContainer:"App_app__ingredientContainer__2NkfQ"}},59:function(e,t,n){e.exports={window:"Modal_window__1ZZXb",container:"Modal_container__1K_Py",title:"Modal_title__3u2SL",button:"Modal_button__2zSrk"}},70:function(e,t,n){e.exports={container:"BurgerContainer_container__1PDMY",bun_top_activ:"BurgerContainer_bun_top_activ__ckWxg",bun_top:"BurgerContainer_bun_top__3X6I1",bun_bottom:"BurgerContainer_bun_bottom__-PrOH",bun_activ:"BurgerContainer_bun_activ__2tNRv"}},90:function(e,t,n){e.exports={sectionSize:"BurgerIngredients_sectionSize__jR53d",container:"BurgerIngredients_container__5kLH5"}},93:function(e,t,n){e.exports={sectionSize:"FeedList_sectionSize__PteFo",container:"FeedList_container__27hDw"}}},[[215,1,2]]]);
//# sourceMappingURL=main.17220f01.chunk.js.map