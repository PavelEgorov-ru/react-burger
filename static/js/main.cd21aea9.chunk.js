(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{115:function(e,t,n){e.exports={header:"AppHeader_header__3mBvA"}},117:function(e,t,n){e.exports={container:"ModalOverlay_container__V5GC_"}},118:function(e,t,n){e.exports={image:"OrderDetails_image__2ckyI"}},120:function(e,t,n){e.exports={container:"TabContainer_container__2NlCV"}},121:function(e,t,n){e.exports={itemContainer:"ItemsContainer_itemContainer__R5QUq"}},123:function(e,t,n){e.exports={li:"Element_li__2MUoQ"}},124:function(e,t,n){e.exports={main:"home_main__3ygrW"}},125:function(e,t,n){e.exports={main:"feed_main__3gURw"}},18:function(e,t,n){e.exports={main:"profile_main__qGy5r",nav:"profile_nav__1ddV4",link_active:"profile_link_active__F7ryI",link:"profile_link__1-1p8",form:"profile_form__3yKlC",input:"profile_input__3ssZ-",activeInput:"profile_activeInput__2SVsO",text:"profile_text__14iPx",buttons:"profile_buttons__1vzW7"}},215:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(44),s=n.n(c),i=n(13),o=n(3),u=n(5),l=n(2),d=n.n(l),j=n(58),m=n.n(j),b=n(115),p=n.n(b),x=n(32),_=n.n(x),f=n(8),O=n(0),h=function(){var e=Object(o.c)((function(e){return e.user})).userName;return Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:d()(_.a.list),children:[Object(O.jsxs)(f.c,{activeClassName:d()(_.a.activeContainer),className:d()("p-5 mt-4 mb-4 ".concat(_.a.container)),exact:!0,to:{pathname:"/"},children:[Object(O.jsx)(u.BurgerIcon,{type:"secondary",className:d()(_.a.iconActive)}),Object(O.jsx)("p",{className:d()("text text_type_main-default pl-2"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(O.jsxs)(f.c,{activeClassName:d()(_.a.activeContainer),className:d()("p-5 mt-4 mb-4 ml-2 ".concat(_.a.container)),to:{pathname:"/feed"},children:[Object(O.jsx)(u.ListIcon,{type:"secondary"}),Object(O.jsx)("p",{className:d()("text text_type_main-default pl-2"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(O.jsx)(f.c,{className:d()("".concat(_.a.logo," ").concat(_.a.container)),to:{pathname:"/"},children:Object(O.jsx)(u.Logo,{})}),Object(O.jsxs)(f.c,{activeClassName:d()(_.a.activeContainer),className:d()("p-5 mt-4 mb-4 ".concat(_.a.container)),to:{pathname:"/profile"},children:[Object(O.jsx)(u.ProfileIcon,{type:"secondary"}),Object(O.jsx)("p",{className:d()("text text_type_main-default pl-2"),children:""!==e?e:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},g=function(){return Object(O.jsx)("header",{className:d()(p.a.header),children:Object(O.jsx)(h,{})})},v=n(59),y=n.n(v),N=n(117),k=n.n(N),C=function(e){var t=e.onClose;return Object(O.jsx)("div",{className:d()(k.a.container),onClick:t})},I=document.getElementById("modal-root"),w=function(e){var t=e.children,n=e.title,a=e.onClose,s=Object(i.g)(),o=function(){a?a():s.goBack()};return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&o()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]),Object(c.createPortal)(Object(O.jsxs)("div",{className:d()(y.a.window),children:[Object(O.jsx)(C,{onClose:o}),Object(O.jsxs)("div",{className:d()(y.a.container),children:[Object(O.jsx)("h2",{className:d()("".concat(y.a.title," text text_type_main-large")),children:n}),Object(O.jsx)("button",{className:d()(y.a.button),onClick:function(){return o()},children:Object(O.jsx)(u.CloseIcon,{})}),t]})]}),I)},T=n(50),S=n.n(T),L=function(){var e=Object(o.c)((function(e){return e.ingredients})).ingredients,t=Object(i.i)().id,n=e.find((function(e){return e._id===t}));return n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:n.image_large,alt:n.name}),Object(O.jsx)("p",{className:d()("text text_type_main-medium mt-4 mb-8"),children:n.name}),Object(O.jsxs)("ul",{className:d()(S.a.description),children:[Object(O.jsxs)("li",{className:d()(S.a.li),children:[Object(O.jsx)("p",{className:d()("text text_type_main-default text_color_inactive"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u0430\u043b\u043b"}),Object(O.jsx)("p",{className:d()("text text_type_digits-default text_color_inactive"),children:n.calories})]}),Object(O.jsxs)("li",{className:d()(S.a.li),children:[Object(O.jsx)("p",{className:d()("text text_type_main-default text_color_inactive"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(O.jsx)("p",{className:d()("text text_type_digits-default text_color_inactive"),children:n.proteins})]}),Object(O.jsxs)("li",{className:d()(S.a.li),children:[Object(O.jsx)("p",{className:d()("text text_type_main-default text_color_inactive"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(O.jsx)("p",{className:d()("text text_type_digits-default text_color_inactive"),children:n.fat})]}),Object(O.jsxs)("li",{className:d()(S.a.li),children:[Object(O.jsx)("p",{className:d()("text text_type_main-default text_color_inactive"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(O.jsx)("p",{className:d()("text text_type_digits-default text_color_inactive"),children:n.carbohydrates})]})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},E=n(118),R=n.n(E),F=n.p+"static/media/check-icon.f3932884.png",z=function(){var e=Object(o.c)((function(e){return e.order})).order;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{className:d()("text text_type_digits-large mt-20"),children:[" ",e.number," "]}),Object(O.jsx)("p",{className:d()("text text_type_main-medium mt-8 mb-15"),children:" \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 "}),Object(O.jsx)("img",{className:d()(R.a.image),src:F,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(O.jsx)("p",{className:d()("text text_type_main-default mt-15 mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(O.jsx)("p",{className:d()("text text_type_main-default text_color_inactive mb-15"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},B=n(16),M=n(22),U=n.n(M),q=n(19),P=n(14),A=n.n(P),D=n(27),W=n(7),V=n(6),H=n(45),G=n(46),J=n(48),X=n(47),Z="https://norma.nomoreparties.space/api";function K(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Y(e,t,n){var r=t.split("Bearer ")[1],a=(n=n||{}).expires;if("number"==typeof a&&a){var c=new Date;c.setTime(c.getTime()+1e3*a),a=n.expires=c}a&&a.toUTCString&&(n.expires=a.toUTCString());var s=e+"="+(r=encodeURIComponent(r));for(var i in n){s+="; "+i;var o=n[i];!0!==o&&(s+="="+o)}document.cookie=s}var Q=new(function(e){Object(J.a)(n,e);var t=Object(X.a)(n);function n(e){var r,a=e.baseUrl;return Object(H.a)(this,n),(r=t.call(this,a)).baseUrl=a,r}return Object(G.a)(n,[{key:"_request",value:function(e,t,n){var r=K("burgerToken"),a={method:e,headers:{"Content-Type":"application/json",Authorization:r?"Bearer ".concat(r):null}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(V.a)(Object(V.a)({},a),{},{body:JSON.stringify(n)}):a)}},{key:"getIdegrients",value:function(){return this._request("GET","ingredients")}},{key:"postOrders",value:function(e){return this._request("POST","orders",e)}},{key:"getOrder",value:function(e){return this._request("GET","orders/".concat(e))}}]),n}(a.a.Component))({baseUrl:Z}),$=Object(W.b)("ingredients/fetchIngredients",Object(D.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getIdegrients();case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})))),ee=Object(W.c)({name:"ingredients",initialState:{ingredients:[],isIngredients:!1},extraReducers:function(e){e.addCase($.pending,(function(e){return e})).addCase($.fulfilled,(function(e,t){e.ingredients=t.payload,e.isIngredients=!0})).addCase($.rejected,(function(e){e.isIngredients=!1}))}}),te=ee.reducer,ne=(ee.actions,n(40)),re=Object(W.c)({name:"elements",initialState:{bun:{},elements:[],isElements:!1},reducers:{postBun:function(e,t){e.bun=t.payload,e.isElements=!0},postElement:{reducer:function(e,t){e.elements=[].concat(Object(ne.a)(e.elements),[t.payload])},prepare:function(e){var t=Object(W.d)();return{payload:Object(V.a)({uid:t},e)}}},deleteElement:function(e,t){e.elements=e.elements.filter((function(e){return e.uid!==t.payload}))},newOrderElements:function(e,t){e.elements=t.payload}}}),ae=re.reducer,ce=re.actions,se=Object(W.c)({name:"ingredient",initialState:{ingredient:{},isOpenModal:!1},reducers:{openModal:function(e,t){e.ingredient=t.payload,e.isOpenModal=!0},closeModal:function(e){e.ingredient={},e.isOpenModal=!1}}}),ie=se.reducer,oe=(se.actions,Object(W.b)("order/fetchOrder",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Q.postOrders(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",r(c.message));case 9:return e.abrupt("return",c.order);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),ue=Object(W.b)("order/fetchOrderInfo",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Q.getOrder(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}return e.abrupt("return",r(c.message));case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),le=Object(W.c)({name:"order",initialState:{order:{},orders:[],isOrder:!1,isLoadingOrder:!0},reducers:{closeModal:function(e){e.order={},e.orders=[],e.isOrder=!1}},extraReducers:function(e){e.addCase(oe.pending,(function(e,t){e.isOrder=!1})).addCase(oe.fulfilled,(function(e,t){e.isOrder=!0,e.order=t.payload})).addCase(oe.rejected,(function(e){return e})).addCase(ue.pending,(function(e,t){e.isLoadingOrder=!1})).addCase(ue.fulfilled,(function(e,t){e.isLoadingOrder=!0,e.orders=t.payload.orders})).addCase(ue.rejected,(function(e,t){e.isLoadingOrder=!0}))}}),de=le.reducer,je=le.actions,me="".concat(Z,"/auth"),be=new(function(e){Object(J.a)(n,e);var t=Object(X.a)(n);function n(e){var r,a=e.baseUrl;return Object(H.a)(this,n),(r=t.call(this,a)).baseUrl=a,r}return Object(G.a)(n,[{key:"_request",value:function(e,t,n){var r=K("burgerToken"),a={method:e,headers:{"Content-Type":"application/json",Authorization:r?"Bearer ".concat(r):null}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(V.a)(Object(V.a)({},a),{},{body:JSON.stringify(n)}):a)}},{key:"login",value:function(e){return this._request("POST","login",e)}},{key:"register",value:function(e){return this._request("POST","register",e)}},{key:"logout",value:function(e){return this._request("POST","logout",e)}},{key:"newToken",value:function(e){return this._request("POST","token",e)}},{key:"checkUser",value:function(e){return this._request("GET","user",e)}},{key:"editUser",value:function(e){return this._request("PATCH","user",e)}}]),n}(a.a.Component))({baseUrl:me}),pe=new(function(e){Object(J.a)(n,e);var t=Object(X.a)(n);function n(e){var r,a=e.baseUrl;return Object(H.a)(this,n),(r=t.call(this,a)).baseUrl=a,r}return Object(G.a)(n,[{key:"_request",value:function(e,t,n){var r={method:e,headers:{"Content-Type":"application/json"}};return fetch("".concat(this.baseUrl,"/").concat(t),n?Object(V.a)(Object(V.a)({},r),{},{body:JSON.stringify(n)}):r)}},{key:"forgotPassword",value:function(e){return this._request("POST","password-reset",e)}},{key:"resetPassword",value:function(e){return this._request("POST","password-reset/reset",e)}}]),n}(a.a.Component))({baseUrl:"https://norma.nomoreparties.space/api"}),xe=Object(W.b)("user/fetchNewUser",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,be.register(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_e=Object(W.b)("user/fetchAuth",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,be.login(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),fe=Object(W.b)("user/fetchLogout",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,be.logout(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Oe=Object(W.b)("user/fetchCheckUser",function(){var e=Object(D.a)(A.a.mark((function e(t){var n,r,a,c,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.checkUser();case 2:return n=e.sent,e.next=5,n.json();case 5:if("jwt expired"!==(r=e.sent).message){e.next=23;break}return e.next=9,be.newToken({token:t});case 9:return a=e.sent,e.next=12,a.json();case 12:if(Y("burgerToken",(c=e.sent).accessToken),localStorage.setItem("refBurgerToken",c.refreshToken),!0!==c.success){e.next=23;break}return e.next=18,be.checkUser();case 18:return s=e.sent,e.next=21,s.json();case 21:return i=e.sent,e.abrupt("return",i);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),he=Object(W.b)("user/fetchEditUser",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,be.editUser(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ge=Object(W.b)("user/fetchForgotPassword",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.forgotPassword(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ve=Object(W.b)("user/fetchResetPassword",function(){var e=Object(D.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,pe.resetPassword(t);case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}return e.abrupt("return",r(c.message));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(W.c)({name:"user",initialState:{isAuth:!1,isLoader:!0,isForgot:!1,isReset:!1,userName:"",userEmail:"",userPassword:"",errorMessage:""},reducers:{endLoader:function(e){e.isLoader=!0},defaultReset:function(e){e.isReset=!1,e.isForgot=!1}},extraReducers:function(e){e.addCase(xe.pending,(function(e){e.isLoader=!1})).addCase(xe.fulfilled,(function(e,t){var n=t.payload;Y("burgerToken",n.accessToken),localStorage.setItem("refBurgerToken",n.refreshToken),e.userName=n.user.name,e.userEmail=n.user.email,e.userPassword=n.user.password,e.isLoader=!0,e.isAuth=n.success})).addCase(xe.rejected,(function(e,t){var n=t.payload;e.errorMessage=n})).addCase(_e.pending,(function(e){e.isLoader=!1})).addCase(_e.fulfilled,(function(e,t){var n=t.payload;Y("burgerToken",n.accessToken),localStorage.setItem("refBurgerToken",n.refreshToken),e.isLoader=!0,e.isAuth=n.success,e.userName=n.user.name,e.userEmail=n.user.email,e.userPassword=n.user.password})).addCase(_e.rejected,(function(e,t){t.payload;e.isLoader=!0})).addCase(fe.pending,(function(e){e.isLoader=!1})).addCase(fe.fulfilled,(function(e,t){t.payload;Y("burgerToken","",{"max-age":-1}),localStorage.removeItem("refBurgerToken"),e.isLoader=!0,e.isAuth=!1,e.userName="",e.userEmail="",e.userPassword=""})).addCase(fe.rejected,(function(e,t){t.payload;e.isLoader=!0})).addCase(Oe.pending,(function(e,t){t.payload;e.isLoader=!1})).addCase(Oe.fulfilled,(function(e,t){var n=t.payload;e.userName=n.user.name,e.userEmail=n.user.email,e.isLoader=!0,e.isAuth=n.success})).addCase(Oe.rejected,(function(e,t){t.payload;e.isLoader=!0})).addCase(he.pending,(function(e,t){t.payload;e.isLoader=!1})).addCase(he.fulfilled,(function(e,t){var n=t.payload;e.userName=n.user.name,e.userEmail=n.user.email,e.isLoader=!0})).addCase(he.rejected,(function(e,t){t.payload;e.isLoader=!0})).addCase(ge.pending,(function(e,t){t.payload;e.isLoader=!1})).addCase(ge.fulfilled,(function(e,t){t.payload;e.isLoader=!0,e.isForgot=!0})).addCase(ge.rejected,(function(e,t){t.payload;e.isLoader=!0})).addCase(ve.pending,(function(e,t){t.payload;e.isLoader=!1})).addCase(ve.fulfilled,(function(e,t){t.payload;e.isLoader=!0,e.isReset=!0,e.isForgot=!1})).addCase(ve.rejected,(function(e,t){t.payload;e.isLoader=!0}))}}),Ne=ye.reducer,ke=ye.actions,Ce=Object(W.c)({name:"socket",initialState:{isConect:!1,isLoadingWs:!0,success:!1,orders:[],total:null,totalToday:null,error:""},reducers:{connectionFeedList:function(e){e.isLoadingWs=!1},connectionOrderList:function(e){e.isLoadingWs=!1},onOpen:function(e){e.isConect=!0},getMessage:function(e,t){var n=t.payload;e.isLoadingWs=!0,e.success=n.success,e.orders=n.orders,e.total=n.total,e.totalToday=n.totalToday},onError:function(e){e.isConect=!1,e.isLoadingWs=!0},onClose:function(e){e.isConect=!1,e.success=!1,e.orders=[],e.total=null,e.totalToday=null},wsClose:function(e,t){}}}),Ie=Ce.reducer,we=Ce.actions,Te=Object(q.b)({ingredients:te,elements:ae,ingredient:ie,order:de,user:Ne,socket:Ie}),Se=n(49),Le=n.n(Se),Ee=(n(214),n(119)),Re=n.n(Ee),Fe=function(e){return Le.a.extend(Re.a),Le.a.locale("ru"),Le()(e).from(Le()())},ze=function(){var e=Object(i.i)().id,t=Object(o.b)(),n=Object(o.c)((function(e){return e.ingredients})).ingredients;Object(r.useEffect)((function(){return t(ue(e)),function(){t(je.closeModal())}}),[]);var a=Object(o.c)((function(e){return e.order})).orders[0],c=[];if(a)for(var s=function(e){var t=n.find((function(t){return t._id===a.ingredients[e]}));t&&c.push(t)},l=0;l<a.ingredients.length;l++)s(l);var j=function(e){var t=0;return c.forEach((function(n){n._id===e&&(t+=1)})),t},m=c.reduce((function(e,t){return e+t.price}),0);return a?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{className:d()("text text_type_digits-default mb-10 ".concat(U.a.numberOrder)),children:"#".concat(a.number)}),Object(O.jsx)("p",{className:d()("text text_type_main-medium mb-3 ".concat(U.a.nameOrder)),children:a.name}),Object(O.jsx)("p",{className:d()("text text_type_main-default ".concat(U.a.status),Object(B.a)({},U.a.done,"done"===a.status)),children:"done"===a.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(O.jsxs)("div",{className:U.a.container,children:[Object(O.jsx)("p",{className:"text text_type_main-medium",children:" \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e:"}),Object(O.jsx)("ul",{className:U.a.listIngredients,children:c.map((function(e){return Object(O.jsxs)("li",{className:U.a.li,children:[Object(O.jsxs)("div",{className:U.a.nameContainer,children:[Object(O.jsx)("div",{className:U.a.icon,style:{backgroundImage:"url(".concat(e.image,")")}}),Object(O.jsx)("p",{className:"text text_type_main-default ".concat(U.a.name),children:e.name})]}),Object(O.jsxs)("div",{className:U.a.price,children:[Object(O.jsx)("p",{className:"text text_type_digits-default",children:"".concat(j(e._id)," x ").concat(e.price)}),Object(O.jsx)(u.CurrencyIcon,{})]})]},Object(W.d)())}))}),Object(O.jsxs)("div",{className:U.a.footer,children:[Object(O.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Fe(a.updatedAt)}),Object(O.jsxs)("div",{className:U.a.price,children:[Object(O.jsx)("p",{className:"text text_type_digits-default",children:m}),Object(O.jsx)(u.CurrencyIcon,{})]})]})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},Be=n(127),Me=["children"];var Ue=function(e){var t=e.children,n=Object(Be.a)(e,Me),r=Object(o.c)((function(e){return e.user})),a=r.isAuth,c=r.isLoader;return c?c&&Object(O.jsx)(i.b,Object(V.a)(Object(V.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(O.jsx)(i.a,{to:{pathname:"/login",state:{from:n}}})}})):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},qe=n(9),Pe=n(36),Ae=n.n(Pe),De=function(){var e=Object(r.useState)({email:"",password:"",name:""}),t=Object(qe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(qe.a)(c,2),l=s[0],j=s[1],m=Object(o.c)((function(e){return e.user})),b=m.isAuth,p=m.isLoader,x=Object(o.b)(),_=Object(r.useRef)(),h=function(e){var t=e.target,r=t.value,c=t.name;a(Object(V.a)(Object(V.a)({},n),{},Object(B.a)({},c,r)))};return b?Object(O.jsx)(i.a,{to:"/"}):p?Object(O.jsxs)("main",{className:d()(Ae.a.main),children:[Object(O.jsxs)("form",{className:d()(Ae.a.form),onSubmit:function(e){x(xe(n))},children:[Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(O.jsx)("div",{className:d()(Ae.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u0418\u043c\u044f",type:"text",onChange:h,value:n.name,name:"name",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)("div",{className:d()(Ae.a.input),children:Object(O.jsx)(u.Input,{placeholder:"Email",type:"email",onChange:h,value:n.email,name:"email",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)("div",{className:d()(Ae.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:l?"ShowIcon":"HideIcon",type:l?"text":"password",onChange:h,value:n.password,name:"password",error:!1,ref:_,onIconClick:function(){setTimeout((function(){return _.current.focus()}),0),j(!l)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)(u.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(O.jsxs)("p",{className:d()("text text_type_main-default text_color_inactive ".concat(Ae.a.text)),children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0442\u0441\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b?",Object(O.jsx)(f.c,{className:d()(Ae.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},We=n(220),Ve=n(126),He=n(90),Ge=n.n(He),Je=n(120),Xe=n.n(Je),Ze=function(e){var t=e.current,n=e.handleCurrent,r=function(e){n(e)};return Object(O.jsxs)("div",{className:d()(Xe.a.container),children:[Object(O.jsx)(u.Tab,{value:"\u0431\u0443\u043b\u043a\u0438",active:"\u0431\u0443\u043b\u043a\u0438"===t,onClick:r,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(O.jsx)(u.Tab,{value:"\u0441\u043e\u0443\u0441\u044b",active:"\u0441\u043e\u0443\u0441\u044b"===t,onClick:r,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(O.jsx)(u.Tab,{value:"\u043c\u044f\u0441\u043e",active:"\u043c\u044f\u0441\u043e"===t,onClick:r,children:"\u041c\u044f\u0441\u043e"})]})},Ke=n(121),Ye=n.n(Ke),Qe=n(15),$e=n.n(Qe),et=($e.a.string.isRequired,$e.a.string.isRequired,$e.a.string.isRequired,$e.a.number.isRequired,$e.a.number.isRequired,$e.a.number.isRequired,$e.a.number.isRequired,$e.a.number.isRequired,$e.a.string.isRequired,$e.a.string.isRequired,$e.a.string.isRequired,$e.a.number.isRequired,$e.a.string,n(51)),tt=n.n(et),nt=n(221),rt=function(e){var t=e.item,n=Object(i.h)(),r=Object(o.c)((function(e){return e.elements})).bun,a=Object(o.c)((function(e){return e.elements})).elements,c=0;t._id===r._id?c+=1:a.forEach((function(e){return e._id===t._id?c+=1:c}));var s=Object(nt.a)({type:t.type,item:t,collect:function(e){return{isDrag:e.isDragging()}}}),l=Object(qe.a)(s,2),j=l[0].isDrag,m=l[1],b=j?"0 0 20px #6434db":null;return Object(O.jsx)("li",{className:d()(tt.a.item),draggable:!0,ref:m,style:{boxShadow:b},children:Object(O.jsxs)(f.b,{to:{pathname:"/ingredients/".concat(t._id),state:{background:n}},className:tt.a.item__link,children:[0!==c&&Object(O.jsx)(u.Counter,{count:c,size:"default"}),Object(O.jsx)("img",{className:d()("".concat(tt.a.image," mb-2")),src:t.image,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0438\u043d\u0434\u0438\u0433\u0440\u0435\u043d\u0442\u0430"}),Object(O.jsxs)("div",{className:d()("".concat(tt.a.price," mb-2")),children:[Object(O.jsx)("p",{className:d()("text text_type_digits-default mr-2"),children:t.price}),Object(O.jsx)(u.CurrencyIcon,{type:"primary"})]}),Object(O.jsx)("p",{className:d()("".concat(tt.a.description," text text_type_main-default mb-10")),children:t.name})]})})},at=a.a.forwardRef((function(e,t){var n=e.data,r=e.children;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:d()("text text_type_main-medium pt-10"),ref:t,children:r}),Object(O.jsx)("ul",{className:d()("pr-4 pl-4 pt-6 pb-10 ".concat(Ye.a.itemContainer)),children:n.map((function(e){return Object(O.jsx)(rt,{item:e},e._id)}))})]})})),ct=function(){var e=Object(o.c)((function(e){return e.ingredients})).ingredients,t=a.a.useState("\u0431\u0443\u043b\u043a\u0438"),n=Object(qe.a)(t,2),c=n[0],s=n[1],i=Object(r.useRef)(null),u=Object(r.useRef)(null),l=Object(r.useRef)(null),j=Object(r.useMemo)((function(){return e.filter((function(e){return"bun"===e.type}))}),[e]),m=Object(r.useMemo)((function(){return e.filter((function(e){return"sauce"===e.type}))}),[e]),b=Object(r.useMemo)((function(){return e.filter((function(e){return"main"===e.type}))}),[e]);return Object(O.jsxs)("section",{className:d()(Ge.a.sectionSize),children:[Object(O.jsx)("h1",{className:d()("text text_type_main-large mt-10 mb-5"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(O.jsx)(Ze,{current:c,handleCurrent:function(e){s(e),"\u0431\u0443\u043b\u043a\u0438"===e?i.current.scrollIntoView({behavior:"smooth"}):"\u0441\u043e\u0443\u0441\u044b"===e?u.current.scrollIntoView({behavior:"smooth"}):l.current.scrollIntoView({behavior:"smooth"})}}),Object(O.jsxs)("div",{className:d()(Ge.a.container),onScroll:function(e){var t=e.target.scrollTop,n=u.current.offsetTop,r=l.current.offsetTop;s(t+200>=r?"\u043c\u044f\u0441\u043e":t+200>=n?"\u0441\u043e\u0443\u0441\u044b":"\u0431\u0443\u043b\u043a\u0438")},children:[Object(O.jsx)(at,{data:j,ref:i,children:"\u0411\u0443\u043b\u043a\u0438"},1),Object(O.jsx)(at,{data:m,ref:u,children:"\u0421\u043e\u0443\u0441\u044b"},2),Object(O.jsx)(at,{data:b,ref:l,children:"\u041c\u044f\u0441\u043e"},3)]})]})},st=n(222),it=n(37),ot=n.n(it),ut=n(123),lt=n.n(ut),dt=function(e){var t=e.element,n=e.moveCard,a=e.index,c=Object(o.b)(),s=Object(r.useRef)(),i=Object(nt.a)({type:"element",item:{element:t,index:a}}),l=Object(qe.a)(i,2)[1],j=Object(st.a)({accept:"element",hover:function(e){e.index!==a&&s.current&&(n(e.index,a),e.index=a)}});return l((0,Object(qe.a)(j,2)[1])(s)),Object(O.jsxs)("li",{className:d()(lt.a.li),draggable:!0,ref:s,index:a,children:[Object(O.jsx)(u.DragIcon,{}),Object(O.jsx)(u.ConstructorElement,{text:t.name,price:t.price,thumbnail:t.image,handleClose:function(){return e=t.uid,void c(ce.deleteElement(e));var e}})]})},jt=a.a.memo((function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.elements})).bun,r=Object(o.c)((function(e){return e.elements})).elements,a=Object(o.c)((function(e){return e.user})).isAuth,c=[n].concat(Object(ne.a)(r)),s=c.reduce((function(e,t){return e+t.price}),0),l=function(e,n){var a=Object(ne.a)(r),c=a[e];a.splice(e,1),a.splice(n,0,c),t(ce.newOrderElements(a))},j=Object(st.a)({accept:"bun",drop:function(e){t(ce.postBun(e))}}),m=Object(qe.a)(j,2)[1],b=Object(st.a)({accept:["sauce","main"],drop:function(e){t(ce.postElement(e))},collect:function(e){return{isHover:e.isOver()}}}),p=Object(qe.a)(b,2),x=p[0].isHover,_=p[1],f=x?"0 0 20px #6434db":null;return Object(O.jsxs)("section",{className:d()("pt-25 + ".concat(ot.a.container)),children:[Object(O.jsx)("div",{className:ot.a.bun,ref:m,children:Object(O.jsx)(u.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(n.name," (\u0432\u0435\u0440\u0445)"),price:n.price,thumbnail:n.image})}),Object(O.jsx)("ul",{className:ot.a.ul,ref:_,children:0!==r.length?r.map((function(e,t){return Object(O.jsx)(dt,{element:e,moveCard:l,index:t},e.uid)})):Object(O.jsx)("div",{className:ot.a.box,style:{boxShadow:f},children:Object(O.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u0432\u043a\u0443\u0441\u043d\u0443\u044e \u043d\u0430\u0447\u0438\u043d\u043a\u0443. \u041c\u043e\u0436\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e"})})}),Object(O.jsx)("div",{className:ot.a.bun,children:Object(O.jsx)(u.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(n.name," (\u043d\u0438\u0437)"),price:n.price,thumbnail:n.image})}),Object(O.jsxs)("div",{className:"".concat(ot.a.container_btm," + mt-10"),children:[Object(O.jsxs)("div",{className:ot.a.container_price,children:[Object(O.jsx)("p",{className:"text text_type_digits-medium mr-2",children:s}),Object(O.jsx)(u.CurrencyIcon,{type:"primary"})]}),Object(O.jsx)(u.Button,{type:"primary",size:"medium",onClick:function(){return function(n){if(a){var r=n.map((function(e){return e._id}));t(oe({ingredients:r}))}else e.replace({pathname:"/login"})}(c)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})})),mt=n(70),bt=n.n(mt),pt=function(){var e=Object(o.b)(),t=Object(st.a)({accept:"bun",drop:function(t){e(ce.postBun(t))},collect:function(e){return{isHover:e.isOver()}}}),n=Object(qe.a)(t,2),r=n[0].isHover,a=n[1],c=r?"0 0 20px #6434db":null;return Object(O.jsxs)("div",{className:d()(bt.a.container),ref:a,children:[Object(O.jsx)("div",{className:d()(bt.a.bun_top),style:{boxShadow:c},children:Object(O.jsx)("p",{className:d()("text text_type_main-default"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043e\u0447\u043a\u0443, \u0430 \u0437\u0430\u0442\u0435\u043c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),Object(O.jsx)("div",{className:d()(bt.a.bun_bottom),style:{boxShadow:c}})]})},xt=n(124),_t=n.n(xt),ft=function(){var e=Object(o.c)((function(e){return e.ingredients})).isIngredients,t=Object(o.c)((function(e){return e.elements})).isElements;return e&&Object(O.jsx)(We.a,{backend:Ve.a,children:Object(O.jsxs)("main",{className:d()(_t.a.main),children:[Object(O.jsx)(ct,{}),t?Object(O.jsx)(jt,{}):Object(O.jsx)(pt,{})]})})},Ot=n(34),ht=n.n(Ot),gt=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(qe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(qe.a)(c,2),l=s[0],j=s[1],m=Object(o.c)((function(e){return e.user})),b=m.isAuth,p=m.isLoader,x=m.isReset,_=Object(o.b)(),h=Object(r.useRef)(),g=Object(i.h)(),v=function(e){var t=e.target,r=t.value,c=t.name;a(Object(V.a)(Object(V.a)({},n),{},Object(B.a)({},c,r)))};x&&_(ke.defaultReset());var y;return b?Object(O.jsx)(i.a,{to:(null===(y=g.state)||void 0===y?void 0:y.from)||"/"}):p?Object(O.jsxs)("main",{className:d()(ht.a.main),children:[Object(O.jsxs)("form",{className:d()(ht.a.form),onSubmit:function(e){_(_e(n)),a({email:"",password:""})},children:[Object(O.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object(O.jsx)("div",{className:d()(ht.a.input),children:Object(O.jsx)(u.Input,{placeholder:"Email",type:"email",onChange:v,value:n.email,name:"email",error:!1,ref:h,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)("div",{className:d()(ht.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:l?"ShowIcon":"HideIcon",type:l?"text":"password",onChange:v,value:n.password,name:"password",error:!1,ref:h,onIconClick:function(){setTimeout((function(){return h.current.focus()}),0),j(!l)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)(u.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(O.jsxs)("p",{className:d()("text text_type_main-default text_color_inactive ".concat(ht.a.text)),children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(O.jsx)(f.c,{className:d()(ht.a.link),to:{pathname:"/register"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(O.jsxs)("p",{className:d()("text text_type_main-default text_color_inactive ".concat(ht.a.text)),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(O.jsx)(f.c,{className:ht.a.link,to:{pathname:"/forgot-password"},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},vt=n(52),yt=n.n(vt),Nt=function(){var e=Object(r.useState)({email:""}),t=Object(qe.a)(e,2),n=t[0],a=t[1],c=Object(o.c)((function(e){return e.user})),s=c.isForgot,l=c.isLoader,j=c.isAuth,m=Object(r.useRef)(),b=Object(o.b)();return j?Object(O.jsx)(i.a,{to:"/"}):s?Object(O.jsx)(i.a,{to:"/reset-password"}):l?Object(O.jsxs)("main",{className:d()(yt.a.main),children:[Object(O.jsxs)("form",{className:d()(yt.a.form),onSubmit:function(){b(ge(n)),a({email:""})},children:[Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(O.jsx)("div",{className:d()(yt.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",type:"email",onChange:function(e){var t=e.target,r=t.value,c=t.name;a(Object(V.a)(Object(V.a)({},n),{},Object(B.a)({},c,r)))},value:n.email,name:"email",error:!1,ref:m,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)(u.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(O.jsxs)("p",{className:d()("text text_type_main-default text_color_inactive ".concat(yt.a.text)),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(O.jsx)(f.c,{className:d()(yt.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},kt=n(41),Ct=n.n(kt),It=function(){var e=Object(r.useState)({password:"",token:""}),t=Object(qe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(qe.a)(c,2),l=s[0],j=s[1],m=Object(o.c)((function(e){return e.user})),b=m.isReset,p=m.isLoader,x=m.isAuth,_=m.isForgot,h=Object(r.useRef)(),g=Object(o.b)(),v=function(e){var t=e.target,r=t.value,c=t.name;a(Object(V.a)(Object(V.a)({},n),{},Object(B.a)({},c,r)))};return x||!_?Object(O.jsx)(i.a,{to:"/"}):b?Object(O.jsx)(i.a,{to:"/login"}):p?Object(O.jsxs)("main",{className:d()(Ct.a.main),children:[Object(O.jsxs)("form",{className:d()(Ct.a.form),onSubmit:function(e){e.preventDefault(),g(ve(n)),a({password:"",token:""})},children:[Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(O.jsx)("div",{className:d()(Ct.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:l?"ShowIcon":"HideIcon",type:l?"text":"password",onChange:v,value:n.password,name:"password",error:!1,ref:h,onIconClick:function(){setTimeout((function(){return h.current.focus()}),0),j(!l)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)("div",{className:d()(Ct.a.input),children:Object(O.jsx)(u.Input,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",type:"text",onChange:v,value:n.name,name:"token",error:!1,ref:h,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(O.jsx)(u.Button,{type:"primary",htmlType:"submit",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(O.jsxs)("p",{className:d()("text text_type_main-default text_color_inactive ".concat(Ct.a.text)),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(O.jsx)(f.c,{className:d()(Ct.a.link),to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(O.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"})},wt=n(18),Tt=n.n(wt),St=function(){var e=Object(i.j)().url,t=Object(o.c)((function(e){return e.user})),n=t.userName,a=t.userEmail,c=t.userPassword,s=Object(r.useState)({name:n,email:a,password:c}),l=Object(qe.a)(s,2),j=l[0],m=l[1],b=Object(r.useState)(!1),p=Object(qe.a)(b,2),x=p[0],_=p[1],h=Object(r.useState)(!1),g=Object(qe.a)(h,2),v=g[0],y=g[1],N=Object(r.useState)(!1),k=Object(qe.a)(N,2),C=k[0],I=k[1],w=Object(r.useRef)(),T=Object(r.useRef)(),S=Object(r.useRef)(),L=Object(o.b)(),E=function(e){var t=e.target,n=t.value,r=t.name;m(Object(V.a)(Object(V.a)({},j),{},Object(B.a)({},r,n)))};return Object(O.jsxs)("main",{className:d()(Tt.a.main),children:[Object(O.jsxs)("nav",{className:d()(Tt.a.nav),children:[Object(O.jsx)(f.c,{className:Tt.a.link_active,to:{pathname:"".concat(e)},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(O.jsx)(f.c,{className:Tt.a.link,to:{pathname:"".concat(e,"/orders")},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(O.jsx)(f.c,{className:Tt.a.link,to:{pathname:"/login"},onClick:function(){var e=localStorage.getItem("refBurgerToken");L(fe({token:e}))},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(O.jsx)("p",{className:d()("text text_type_main-small text_color_inactive ".concat(Tt.a.text)),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(O.jsxs)("form",{className:d()(Tt.a.form),onSubmit:function(e){e.preventDefault(),L(he(j)),y(!1),I(!1),_(!1)},children:[Object(O.jsx)("div",{className:d()(Tt.a.input,Object(B.a)({},Tt.a.activeInput,x)),children:Object(O.jsx)(u.Input,{placeholder:"\u0418\u043c\u044f",icon:x?"CloseIcon":"EditIcon",type:"text",onChange:E,value:j.name,name:"name",error:!1,ref:w,onIconClick:function(){setTimeout((function(){return w.current.focus()}),0),_(!x),y(!1),I(!1),x&&m(Object(V.a)(Object(V.a)({},j),{},{name:n}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!x})}),Object(O.jsx)("div",{className:d()(Tt.a.input,Object(B.a)({},Tt.a.activeInput,v)),children:Object(O.jsx)(u.Input,{placeholder:"\u041b\u043e\u0433\u0438\u043d",icon:v?"CloseIcon":"EditIcon",type:"email",onChange:E,value:j.email,name:"email",error:!1,ref:T,onIconClick:function(){setTimeout((function(){return T.current.focus()}),0),y(!v),_(!1),I(!1),v&&m(Object(V.a)(Object(V.a)({},j),{},{email:a}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!v})}),Object(O.jsx)("div",{className:d()(Tt.a.input,Object(B.a)({},Tt.a.activeInput,C)),children:Object(O.jsx)(u.Input,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:C?"CloseIcon":"EditIcon",type:"password",onChange:E,value:j.password,name:"password",error:!1,ref:S,onIconClick:function(){setTimeout((function(){return S.current.focus()}),0),I(!C),y(!1),_(!1),C&&m(Object(V.a)(Object(V.a)({},j),{},{password:c}))},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:!C})}),(x||v||C)&&Object(O.jsxs)("div",{className:d()(Tt.a.buttons),children:[Object(O.jsx)(u.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),m({name:n,email:a,password:c}),y(!1),I(!1),_(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(O.jsx)(u.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})},Lt=n(35),Et=n.n(Lt),Rt=n(23),Ft=n.n(Rt),zt=function(e){for(var t=e.ingredients,n=(e._id,e.createdAt),r=e.status,a=e.isOrderPage,c=e.name,s=e.number,l=Object(o.c)((function(e){return e.ingredients})),j=Object(i.h)(),m=(Object(i.j)().url,[]),b=function(e){var n=l.ingredients.find((function(n){return n._id===t[e]}));n&&m.push(n)},p=0;p<t.length;p++)b(p);var x=-40,_=6,h=0;return m.forEach((function(e){h+=e.price})),Object(O.jsx)(f.b,{to:{pathname:"".concat(j.pathname,"/").concat(s),state:{background:j}},className:Ft.a.link,children:Object(O.jsxs)("div",{className:Ft.a.card,children:[Object(O.jsxs)("div",{className:Ft.a.header,children:[Object(O.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(s)}),Object(O.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Fe(n)})]}),Object(O.jsxs)("div",{className:Ft.a.nameContainer,children:[Object(O.jsx)("p",{className:"".concat(Ft.a.description," text text_type_main-medium"),children:c}),a?Object(O.jsx)("p",{className:d()("text text_type_main-default mt-2",Object(B.a)({},Ft.a.color,"done"===r)),children:"done"===r?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"created"===r?"\u0421\u043e\u0437\u0434\u0430\u043d":"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}):null]}),Object(O.jsxs)("div",{className:Ft.a.footer,children:[Object(O.jsx)("div",{className:Ft.a.imageContainer,children:m.map((function(e,t){return t<6?(x+=40,_-=1,5===t?Object(O.jsx)("div",{className:"".concat(Ft.a.icon," ").concat(Ft.a.icon_last),style:{backgroundImage:"url(".concat(e.image,")"),position:"absolute",left:"".concat(x,"px"),zIndex:"".concat(_)},children:m.length-6!==0&&Object(O.jsxs)("p",{className:"text text_type_digits-default ".concat(Ft.a.number),children:["+",m.length-6]})},Object(W.d)()):Object(O.jsx)("div",{className:Ft.a.icon,style:{backgroundImage:"url(".concat(e.image,")"),position:"absolute",left:"".concat(x,"px"),zIndex:"".concat(_)}},Object(W.d)())):void 0}))}),Object(O.jsxs)("div",{className:Ft.a.price,children:[Object(O.jsx)("p",{className:"text text_type_digits-default mr-2",children:h}),Object(O.jsx)(u.CurrencyIcon,{type:"primary"})]})]})]})})},Bt=function(){var e=Object(o.c)((function(e){return e.socket})).orders;console.log(e);var t=Object(ne.a)(e).reverse(),n=Object(i.j)().url,a=Object(o.b)();return Object(r.useEffect)((function(){return a(we.connectionOrderList()),function(){a(we.wsClose())}}),[a]),Object(O.jsxs)("main",{className:d()(Et.a.main),children:[Object(O.jsxs)("nav",{className:d()(Et.a.nav),children:[Object(O.jsx)(f.c,{className:Et.a.link,to:{pathname:"/profile"},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(O.jsx)(f.c,{className:Et.a.link_active,to:{pathname:"".concat(n)},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(O.jsx)(f.c,{className:Et.a.link,to:{pathname:"/login"},onClick:function(){var e=localStorage.getItem("refBurgerToken");a(fe({token:e}))},children:Object(O.jsx)("p",{className:d()("text text_type_main-medium"),children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(O.jsx)("p",{className:d()("text text_type_main-small text_color_inactive ".concat(Et.a.text)),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(O.jsx)("section",{className:d()(Et.a.sectionSize),children:Object(O.jsx)("div",{className:d()(Et.a.container),children:t.map((function(e){return Object(r.createElement)(zt,Object(V.a)(Object(V.a)({},e),{},{key:e.createdAt,isOrderPage:true}))}))})})]})},Mt=n(125),Ut=n.n(Mt),qt=n(93),Pt=n.n(qt),At=function(){var e=Object(o.c)((function(e){return e.socket})).orders;return Object(O.jsxs)("section",{className:d()(Pt.a.sectionSize),children:[Object(O.jsx)("h1",{className:d()("text text_type_main-large mt-10 mb-5"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(O.jsx)("div",{className:d()(Pt.a.container),children:e.map((function(e){return Object(r.createElement)(zt,Object(V.a)(Object(V.a)({},e),{},{key:Object(W.d)()}))}))})]})},Dt=n(30),Wt=n.n(Dt),Vt=function(){var e=Object(o.c)((function(e){return e.socket})),t=e.orders,n=e.total,r=e.totalToday,a=[],c=[];return t.forEach((function(e){if("done"===e.status)a.push(e);else{if("created"!==e.status)return;c.push(e)}})),Object(O.jsxs)("section",{className:Wt.a.sectionSize,children:[Object(O.jsxs)("div",{className:Wt.a.statusSection,children:[Object(O.jsxs)("div",{className:Wt.a.statusDone,children:[Object(O.jsx)("p",{className:"text text_type_main-medium ".concat(Wt.a.title),children:" \u0413\u043e\u0442\u043e\u0432\u044b: "}),Object(O.jsx)("div",{className:Wt.a.numbers,children:a.map((function(e){return Object(O.jsx)("p",{className:"text text_type_digits-default ".concat(Wt.a.order),children:e.number},Object(W.d)())}))})]}),Object(O.jsxs)("div",{className:Wt.a.statusCreated,children:[Object(O.jsx)("p",{className:"text text_type_main-medium ".concat(Wt.a.title),children:" \u0412 \u0440\u0430\u0431\u043e\u0442\u0435: "}),Object(O.jsx)("div",{className:Wt.a.numbers,children:c.map((function(e){return Object(O.jsx)("p",{className:"text text_type_digits-default",children:e.number},Object(W.d)())}))})]})]}),Object(O.jsxs)("div",{className:Wt.a.info,children:[Object(O.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(O.jsx)("p",{className:"text text_type_digits-large",children:n})]}),Object(O.jsxs)("div",{className:Wt.a.info,children:[Object(O.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(O.jsx)("p",{className:"text text_type_digits-large",children:r})]})]})},Ht=function(){var e=Object(o.b)();return Object(r.useEffect)((function(){return e(we.connectionFeedList()),function(){e(we.wsClose())}}),[e]),Object(O.jsxs)("div",{className:Ut.a.main,children:[Object(O.jsx)(At,{}),Object(O.jsx)(Vt,{})]})},Gt=function(){var e=Object(i.h)(),t=e.state&&e.state.background,n=Object(o.b)(),a=Object(o.c)((function(e){return e.order})).isOrder;return Object(r.useEffect)((function(){n($()),function(){var e=K("burgerToken"),t=localStorage.getItem("refBurgerToken");e&&n(Oe(t))}()}),[]),Object(O.jsxs)("div",{className:d()(m.a.app),children:[a&&Object(O.jsx)(w,{onClose:function(){n(je.closeModal())},children:Object(O.jsx)(z,{})}),Object(O.jsx)(g,{}),Object(O.jsxs)(i.d,{location:t||e,children:[Object(O.jsx)(i.b,{path:"/register",exact:!0,children:Object(O.jsx)(De,{})}),Object(O.jsx)(i.b,{path:"/login",exact:!0,children:Object(O.jsx)(gt,{})}),Object(O.jsx)(i.b,{path:"/forgot-password",exact:!0,children:Object(O.jsx)(Nt,{})}),Object(O.jsx)(i.b,{path:"/reset-password",exact:!0,children:Object(O.jsx)(It,{})}),Object(O.jsx)(Ue,{path:"/profile",exact:!0,children:Object(O.jsx)(St,{})}),Object(O.jsx)(Ue,{path:"/profile/orders",exact:!0,children:Object(O.jsx)(Bt,{})}),Object(O.jsx)(i.b,{path:"/",exact:!0,children:Object(O.jsx)(ft,{})}),Object(O.jsx)(i.b,{path:"/feed",exact:!0,children:Object(O.jsx)(Ht,{})}),Object(O.jsx)(i.b,{exact:!0,path:"/ingredients/:id",children:Object(O.jsx)("div",{className:m.a.app__ingredientContainer,children:Object(O.jsx)(L,{})})}),Object(O.jsx)(i.b,{exact:!0,path:"/feed/:id",children:Object(O.jsx)("div",{className:m.a.app__ingredientContainer,children:Object(O.jsx)(ze,{})})}),Object(O.jsx)(i.b,{exact:!0,path:"/profile/orders/:id",children:Object(O.jsx)("div",{className:m.a.app__ingredientContainer,children:Object(O.jsx)(ze,{})})})]}),t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.b,{path:"/ingredients/:id",exact:!0,children:Object(O.jsx)(w,{children:Object(O.jsx)(L,{})})}),Object(O.jsx)(i.b,{path:"/feed/:id",exact:!0,children:Object(O.jsx)(w,{children:Object(O.jsx)(ze,{})})}),Object(O.jsx)(i.b,{path:"/profile/orders/:id",exact:!0,children:Object(O.jsx)(w,{children:Object(O.jsx)(ze,{})})})]})]})},Jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Xt=Object(W.a)({reducer:Te,middleware:function(e){return e().concat((t="wss://norma.nomoreparties.space/orders",function(e){var n=null;return function(r){return function(a){var c=e.dispatch,s=a.type;a.payload,"socket/connectionFeedList"===s&&(n=new WebSocket("".concat(t,"/all"))),"socket/connectionOrderList"===s&&(n=new WebSocket("".concat(t,"?token=").concat(K("burgerToken")))),n&&(n.onopen=function(){c(we.onOpen())},n.onerror=function(){c(we.onError())},n.onmessage=function(e){var t=e.data,n=JSON.parse(t);c(we.getMessage(n))},n.onclose=function(){c(we.onClose())},"socket/wsClose"===s&&n.close()),r(a)}}}));var t},devTools:!1});s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(o.a,{store:Xt,children:Object(O.jsx)(f.a,{children:Object(O.jsx)(Gt,{})})})}),document.getElementById("root")),Jt()},22:function(e,t,n){e.exports={status:"OrderInfo_status__1jnsn",done:"OrderInfo_done__liYxU",nameOrder:"OrderInfo_nameOrder__3nR8o",numberOrder:"OrderInfo_numberOrder__1BKMp",container:"OrderInfo_container__2m1fF",icon:"OrderInfo_icon__2P-eR",listIngredients:"OrderInfo_listIngredients__2edfH",li:"OrderInfo_li__2nakm",nameContainer:"OrderInfo_nameContainer__2oUDp",price:"OrderInfo_price__7FCJz",footer:"OrderInfo_footer__1hR8E"}},23:function(e,t,n){e.exports={card:"FeedCard_card__3WcuG",header:"FeedCard_header__ApFOU",footer:"FeedCard_footer__36hmL",price:"FeedCard_price__2WMMl",imageContainer:"FeedCard_imageContainer__1M4r2",icon:"FeedCard_icon__2jIU0",icon_last:"FeedCard_icon_last__6U9DC",color:"FeedCard_color__2a-fq",number:"FeedCard_number__2DuJk",link:"FeedCard_link__3SZlc"}},30:function(e,t,n){e.exports={sectionSize:"FeedInfo_sectionSize__TX-ut",statusSection:"FeedInfo_statusSection__1Z040",statusDone:"FeedInfo_statusDone__2DKlM",statusCreated:"FeedInfo_statusCreated__3LqEd",numbers:"FeedInfo_numbers__1aKRE",title:"FeedInfo_title__RiIzT",order:"FeedInfo_order__2WSML"}},32:function(e,t,n){e.exports={list:"Menu_list__GkHOa",container:"Menu_container__1fECk",activeContainer:"Menu_activeContainer__2-a-L",logo:"Menu_logo__WyNZT"}},34:function(e,t,n){e.exports={main:"login_main__1kXSo",form:"login_form__3DD6c",input:"login_input__mVNR9",text:"login_text__3nYhP",link:"login_link__2bcVJ"}},35:function(e,t,n){e.exports={main:"order_main__2qzTm",nav:"order_nav__kL_Vd",link_active:"order_link_active__3i8ug",link:"order_link__3aDCN",form:"order_form__1toUe",input:"order_input__1Odh4",activeInput:"order_activeInput__r1xZ9",text:"order_text__1bc7u",buttons:"order_buttons__1OFXc",sectionSize:"order_sectionSize__1DslW",container:"order_container__2mfHv"}},36:function(e,t,n){e.exports={main:"register_main__3hVcB",form:"register_form__16uRP",input:"register_input__2NBLl",text:"register_text__2d3To",link:"register_link__2XLtm"}},37:function(e,t,n){e.exports={container:"BurgerConstructor_container__1KzYX",ul:"BurgerConstructor_ul__3O6MA",container_btm:"BurgerConstructor_container_btm__2pOGw",container_price:"BurgerConstructor_container_price__1Huqp",box:"BurgerConstructor_box__IlNk2",bun:"BurgerConstructor_bun__38Ige"}},41:function(e,t,n){e.exports={main:"reset_main__2peA4",form:"reset_form__1L63D",input:"reset_input__-IklT",text:"reset_text__1HfVQ",link:"reset_link__1rSGJ"}},50:function(e,t,n){e.exports={title:"IngredientDetails_title__3GSbO",description:"IngredientDetails_description__lcCOY",li:"IngredientDetails_li___hz32"}},51:function(e,t,n){e.exports={item:"Item_item__2UEiG",item__link:"Item_item__link__2X0WR",image:"Item_image__1AZTA",price:"Item_price__1mLof",description:"Item_description__3dlL3"}},52:function(e,t,n){e.exports={main:"forgot_main__2j4V9",form:"forgot_form__29nTq",input:"forgot_input__1YWhL",text:"forgot_text__3pbuV",link:"forgot_link__pJbGh"}},58:function(e,t,n){e.exports={app:"App_app__2-W1N",app__ingredientContainer:"App_app__ingredientContainer__2NkfQ"}},59:function(e,t,n){e.exports={window:"Modal_window__1ZZXb",container:"Modal_container__1K_Py",title:"Modal_title__3u2SL",button:"Modal_button__2zSrk"}},70:function(e,t,n){e.exports={container:"BurgerContainer_container__1PDMY",bun_top_activ:"BurgerContainer_bun_top_activ__ckWxg",bun_top:"BurgerContainer_bun_top__3X6I1",bun_bottom:"BurgerContainer_bun_bottom__-PrOH",bun_activ:"BurgerContainer_bun_activ__2tNRv"}},90:function(e,t,n){e.exports={sectionSize:"BurgerIngredients_sectionSize__jR53d",container:"BurgerIngredients_container__5kLH5"}},93:function(e,t,n){e.exports={sectionSize:"FeedList_sectionSize__PteFo",container:"FeedList_container__27hDw"}}},[[215,1,2]]]);
//# sourceMappingURL=main.cd21aea9.chunk.js.map